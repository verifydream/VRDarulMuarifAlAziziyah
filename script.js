if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['location']!==window['parent']['location']||window['frameElement']!==undefined;E['set']('fullscreenFallback',F?'out_of_frame':'none');var G=window['navigator']['language']||window['navigator']['userLanguage']||'en';var H=E['get']('data')['locales']||{};var I=E['get']('data')['defaultLocale']||G;var J=this['locManager']=new TDV['Tour']['LocaleManager'](E,H,I,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=J;var K=function(){var V=E['get']('data');if(!('updateText'in V)){V['updateText']=function(Z){var a0=Z[0x0]['split']('.');if(a0['length']==0x2){var a1=J['trans']['apply'](J,Z);var a2=Z[0x1]||E;if(typeof a2=='string'){var a3=a2['split']('.');a2=E[a3['shift']()];for(var a4=0x0;a4<a3['length']-0x1;++a4){if(a2!=undefined)a2='get'in a2?a2['get'](a3[a4]):a2[a3[a4]];}if(a2!=undefined){var a5=a3[a3['length']-0x1];if(Array['isArray'](a2)){for(var a6=0x0;a6<a2['length'];++a6){this['setValue'](a2[a6],a5,a1);}}else this['setValue'](a2,a5,a1);}}else{a2=a2[a0[0x0]];this['setValue'](a2,a0[0x1],a1);}}}['bind'](E);}var W=V['translateObjs'];var X=V['updateText'];var Y=function(){for(var a7 in W){X(W[a7]);}};Y();Y();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],K['bind'](this));var L=this['_getParams'](location['search']['substr'](0x1));L=E['mixObject'](L,this['_getParams'](location['hash']['substr'](0x1)));var M=L['language'];if(!M||!this['locManager']['hasLocale'](L['language'])){if(E['get']('data')['forceDefaultLocale'])M=I;else M=G;}this['setLocale'](M);var N=E['getByClassName']('HotspotPanoramaOverlay');for(var P=0x0,Q=N['length'];P<Q;++P){var R=N[P];var S=R['get']('data');if(!S)R['set']('data',S={});S['defaultEnabledValue']=R['get']('enabled');}this['_setMediaFromURL'](L,0x0);this['_updateParams'](L,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var T=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(T['call'](this))return;var U=E['getByClassName']('PanoramaPlayer');for(var P=0x0;P<U['length'];++P){U[P]['bind']('viewModeChange',T,this);}E['bind']('orientationChange',T,this);}this['_onHashChange']=function(){var a8=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a8);this['_updateParams'](a8,!![]);}['bind'](this);this['_onKeyUp']=function(a9){switch(a9['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var aa=E['getByClassName']('MeasureModel3DObject');var ab=E['getActiveMediaWithViewer'](E['getMainViewer']());if(aa['length']>0x0&&ab['get']('class')=='Model3D'){E['startMeasurement'](null,aa[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ac){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ad=function(am){var an=am['source'];if(!this['_isPaused'])an['unbind']('stateChange',ad,this);else if(an['get']('state')=='playing'){an['pause']();}};var ae=this['player']['getByClassName']('PlayList');for(var af=0x0,ag=ae['length'];af<ag;af++){var ah=ae[af];var ai=ah['get']('selectedIndex');if(ai!=-0x1){var aj=ah['get']('items')[ai];var ak=aj['get']('player');if(ak&&ak['pause']){if(ak['get']('state')!='playing')ak['bind']('stateChange',ad,this);else ak['pause']();this['_playersPlayingTmp']['push'](ak);}}}var al=this['_getRootPlayer']();al['pauseGlobalAudios']();al['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var ao=this['_playersPlayingTmp']['pop']();ao['play']();}var ap=this['_getRootPlayer']();ap['resumeGlobalAudios']();ap['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(aq){this['_orientation']=this['_getOrientation']();if(aq)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(ar){var as=this['_getRootPlayer']();if(as!==undefined){return as['setMainMediaByIndex'](ar);}};TDV['Tour']['prototype']['setMediaByName']=function(at){var au=this['_getRootPlayer']();if(au!==undefined){return au['setMainMediaByName'](at);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(av,aw,ax){var ay=this['_getRootPlayer']();if(!ax)ax='click';if(ay!==undefined&&ax){var az=ay['getPanoramaOverlayByName'](av,aw);if(az){ay['triggerOverlay'](az,ax);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(aA,aB){var aC=this['_getRootPlayer']();if(aC!==undefined){var aD=aC['getPanoramaOverlayByName'](aA['get']('media'),aB);if(aD){var aE=aD['get']('class');var aF=aE=='VideoPanoramaOverlay'||aE=='QuadVideoPanoramaOverlay'?aD:aD['get']('items')[0x0];var aG,aH;aE=aF['get']('class');if(aE=='QuadVideoPanoramaOverlay'||aE=='QuadHotspotPanoramaOverlayImage'){var aI=aF['get']('vertices');var aJ=0x0,aK=aI['length'];aG=0x0;aH=0x0;while(aJ<aK){var aL=aI[aJ++];var aM=aL['get']('yaw');if(aM<0x0)aM+=0x168;aG+=aM;aH+=aL['get']('pitch');}aG/=0x4;aH/=0x4;if(aG>0xb4)aG-=0x168;}else{aG=aF['get']('yaw');aH=aF['get']('pitch');}var aN=aC['getPlayListWithItem'](aA);if(aN){var aO=function(){aC['setPanoramaCameraWithSpot'](aN,aA,aG,aH);};if(!this['_isInitialized']){var aP=function(){aA['unbind']('begin',aP,this);aO();};aA['bind']('begin',aP,this);}else{aO();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aQ,aR,aS){var aT=this['_getRootPlayer']();if(aT!==undefined){var aU=aT['getComponentsByTags'](aQ,aS);for(var aV=0x0,aW=aU['length'];aV<aW;++aV){aU[aV]['set']('visible',aR);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aX,aY,aZ){var b0=this['_getRootPlayer']();if(b0!==undefined){var b1=b0['getOverlaysByTags'](aX,aZ);b0['setOverlaysVisibility'](b1,aY);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b2,b3){var b4=this['_getRootPlayer']();if(b4!==undefined){var b5=b4['getActiveMediaWithViewer'](b4['getMainViewer']());var b6=[];for(var b7=0x0,b8=b2['length'];b7<b8;++b7){var b9=b4['getPanoramaOverlayByName'](b5,b2[b7]);if(b9)b6['push'](b9);}b4['setOverlaysVisibility'](b6,b3);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(ba,bb){var bc=this['_getRootPlayer']();if(bc!==undefined){var bd=bc['getActiveMediaWithViewer'](bc['getMainViewer']());if(bd['get']('class')=='Model3D'){bc['setObjectsVisibilityByID'](bd,ba,bb);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(be){var bf=this['_getRootPlayer']();if(bf!==undefined){var bg=bf['getActiveMediaWithViewer'](bf['getMainViewer']());if(bg['get']('class')=='Model3D'){bg['set']('variant',be);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bh=this['_getRootPlayer']();if(bh!==undefined){bh['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bi){var bj=this['_getRootPlayer']();if(bj!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bi);}};TDV['Tour']['prototype']['getLocale']=function(){var bk=this['_getRootPlayer']();return bk!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bl=document['documentElement'];bl['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bl['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bl['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bl['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bm=window['getComputedStyle'](bl);return parseInt(bm['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bm['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bm['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bm['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bn=this['_getRootPlayer']();if(bn){return bn['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bo){var bp={};bo['split']('&')['forEach'](function(bq){var br=bq['split']('=')[0x0],bs=decodeURIComponent(bq['split']('=')[0x1]);bp[br['toLowerCase']()]=bs;});return bp;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bt=document['getElementById']('metaViewport');if(bt){var bu=this['_devicesUrl'][this['_device']];var bv=0x1;if(typeof bu=='object'&&this['_orientation']in bu&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bv=bt['getAttribute']('data-tdv-general-scale')||0.5;}var bw=bt['getAttribute']('content');bw=bw['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bx,by){return'initial-scale='+bv;});bt['setAttribute']('content',bw);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var bz=this['_devicesUrl'][this['_device']];if(typeof bz=='object'){if(this['_orientation']in bz){bz=bz[this['_orientation']];}}return bz;};TDV['Tour']['prototype']['_getDevice']=function(){var bA=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bA=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bA=TDV['Tour']['DEVICE_MOBILE'];}return bA;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bB,bC){var bD=this['_getRootPlayer']();var bE=bD['getActivePlayerWithViewer'](bD['getMainViewer']());var bF=bE?bD['getMediaFromPlayer'](bE):undefined;var bG;if('media'in bB){var bH=bB['media'];var bI=Number(bH);bG=isNaN(bI)?this['setMediaByName'](bH):this['setMediaByIndex'](bI-0x1);}else if('media-index'in bB){bG=this['setMediaByIndex'](parseInt(bB['media-index'])-0x1);}else if('media-name'in bB){bG=this['setMediaByName'](decodeURIComponent(bB['media-name']));}if(bG==undefined&&bC!==undefined){bG=this['setMediaByIndex'](0x0);}if(bG!=undefined){var bJ=bG['get']('player');var bK=function(){if('trigger-overlay-name'in bB){this['triggerOverlayByName'](bG['get']('media'),bB['trigger-overlay-name'],bB['trigger-overlay-event']);}if('focus-overlay-name'in bB){this['focusOverlayByName'](bG,bB['focus-overlay-name']);}else if('yaw'in bB||'pitch'in bB){var bO=bD['getPlayListWithItem'](bG);if(bO){switch(bG['get']('class')){case'PanoramaPlayListItem':var bP=parseFloat(bB['yaw'])||undefined;var bQ=parseFloat(bB['pitch'])||undefined;var bR=parseFloat(bB['fov'])||undefined;bD['setPanoramaCameraWithSpot'](bO,bG,bP,bQ,bR);break;case'Model3DPlayListItem':var bS=['yaw','pitch','x','y','z','distance'];var bT={};for(var bU=0x0;bU<bS['length'];++bU){var bV=bS[bU];var bW=parseFloat(bB[bV]);if(!isNaN(bW))bT[bV]=bW;}bD['setModel3DCameraSpot'](bO,bG,bT);break;}}}}['bind'](this);if(bJ){var bL=bJ['get']('viewerArea')==bD['getMainViewer']();var bM=bD['getMediaFromPlayer'](bJ);if(bL&&bF==bG['get']('media')||!bL&&bM==bG['get']('media')){bK();return bG!=undefined;}}var bN=function(){bG['unbind']('begin',bN,this);bK();};bG['bind']('begin',bN,bD);}return bG!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bX=function(){var bY;var bZ=function(){var c2=this['_getRootPlayer']();bY=c2['get']('lockedOrientation');c2['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var c0=function(){bZ();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],c0);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],c0);this['reload'](!![]);}else{bZ();}var c1=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bY);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],c1);var c3=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c3)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],c1);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bX);}};TDV['Tour']['prototype']['_updateParams']=function(c4,c5){if(c5&&'language'in c4){var c6=c4['language'];if(this['locManager']['hasLocale'](c6)){this['setLocale'](c6);}}var c7=function(c9,ca,cb){var cc=ca['split'](',');for(var cd=0x0,ce=cc['length'];cd<ce;++cd){c9['call'](this,cc[cd]['split']('+'),cb,'and');}};var c8=function(cf){var cg=this['_getRootPlayer']();var ch=cg['getActiveMediaWithViewer'](cg['getMainViewer']());if(ch['get']('class')!='Model3D')return;var ci=ch['get']('objects');var cj=[];cf['split']('+')['forEach'](function(ck){var cl=ck['split'](',');var cm=cl['shift']();if(cm in cg&&cl['length']%0x3==0x0){var cn=cl[0x0],co=cl[0x1],cp=cl[0x2];var cq=ci['some'](function(cv){return cv['get']('class')=='MeasureModel3DObject'&&cn==cv['get']('x')&&co==cv['get']('y')&&cp==cv['get']('z');});if(cq)return;var cr=[];var cs=_cloneMeasureModel3DObject['call'](this,this[cm]);cs['set']('mode','view');cs['set']('x',cn);cs['set']('y',co);cs['set']('z',cp);for(var ct=0x3;ct<cl['length'];ct+=0x3){var cu=this['createInstance']('MeasureModel3DObjectPoint');cu['set']('x',cl[ct]);cu['set']('y',cl[ct+0x1]);cu['set']('z',cl[ct+0x2]);cr['push'](cu);}cs['set']('points',cr);cj['push'](cs);}}['bind'](cg));if(cj['length']>0x0){ch['set']('objects',ci['concat'](cj));}};if('hide-components-tags'in c4||'hct'in c4)c7['call'](this,this['setComponentsVisibilityByTags'],c4['hide-components-tags']||c4['hct'],![]);if('show-components-tags'in c4||'sct'in c4)c7['call'](this,this['setComponentsVisibilityByTags'],c4['show-components-tags']||c4['sct'],!![]);if('hide-overlays-tags'in c4||'hot'in c4)c7['call'](this,this['setOverlaysVisibilityByTags'],c4['hide-overlays-tags']||c4['hot'],![]);if('show-overlays-tags'in c4||'sot'in c4)c7['call'](this,this['setOverlaysVisibilityByTags'],c4['show-overlays-tags']||c4['sot'],!![]);if('hide-overlays-names'in c4||'hon'in c4)this['setOverlaysVisibilityByName'](decodeURIComponent(c4['hide-overlays-names']||c4['hon'])['split'](','),![]);if('show-overlays-names'in c4||'son'in c4)this['setOverlaysVisibilityByName'](decodeURIComponent(c4['show-overlays-names']||c4['son'])['split'](','),!![]);if('show-object-ids'in c4||'sobjids'in c4)this['setObjectsVisibilityByID'](decodeURIComponent(c4['show-object-ids']||c4['sobjids'])['split'](','),!![]);if('hide-object-ids'in c4||'hobjids'in c4)this['setObjectsVisibilityByID'](decodeURIComponent(c4['hide-object-ids']||c4['hobjids'])['split'](','),![]);if('variant'in c4)this['setModel3DVariant'](decodeURIComponent(c4['variant']));if('measures'in c4)c8['call'](this,decodeURIComponent(c4['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cw,cx,cy,cz){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cw;this['locales']={};this['defaultLocale']=cy;this['queryParam']=cz;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cA in cx){this['registerLocale'](cA,cx[cA]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cB,cC){var cD=[cB,cB['split']('-')[0x0]];for(var cE=0x0;cE<cD['length'];++cE){cB=cD[cE];if(!(cB in this['locales'])){this['locales'][cB]=cC;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cF){delete this['locales'][cF];if(cF==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cG){return cG in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cH){var cI;var cJ=cH['split']('-')[0x0];var cK=[cH,cJ];for(var cL=0x0;cL<cK['length'];++cL){var cN=cK[cL];if(cN in this['locales']){cI=cN;break;}}if(cI===undefined){for(var cN in this['locales']){if(cN['indexOf'](cJ)==0x0){cI=cN;break;}}}if(cI===undefined){cI=this['defaultLocale'];}var cO=this['locales'][cI];if(cO!==undefined&&this['currentLocaleID']!=cI){this['currentLocaleID']=cI;var cP=this;if(typeof cO=='string'){var cQ=new XMLHttpRequest();cQ['onreadystatechange']=function(){if(cQ['readyState']==0x4){if(cQ['status']==0xc8){cP['locales'][cI]=cP['currentLocaleMap']=cP['_parsePropertiesContent'](cQ['responseText']);cP['dispatchEvent'](cP['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cO+'\x20can\x27t\x20be\x20loaded';}}};var cR=cO;if(this['queryParam'])cR+=(cR['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cQ['open']('GET',cR);cQ['send']();}else{this['currentLocaleMap']=cO;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cS){function cT(cX){return/^\d+$/['test'](cX);}var cU=this['currentLocaleMap'][cS];if(cU&&arguments['length']>0x2){var cV=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cW=arguments;cU=cU['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cY,cZ){if(cT(cZ))cZ=cW[parseInt(cZ)+0x1];else if(cV!==undefined)cZ=cV[cZ];if(typeof cZ=='string')cZ=this['currentLocaleMap'][cZ]||cZ;else if(typeof cZ=='function')cZ=cZ['call'](this['rootPlayer']);return cZ!==undefined?cZ:'';}['bind'](this));}return cU;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(d0){d0=d0['replace'](/(^|\n)#[^\n]*/g,'');var d1={};var d2=d0['split']('\x0a');for(var d3=0x0,d4=d2['length'];d3<d4;++d3){var d5=d2[d3]['trim']();if(d5['length']==0x0){continue;}var d6=d5['indexOf']('=');if(d6==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d3);continue;}var d7=d5['substr'](0x0,d6)['trim']();var d8=d5['substr'](d6+0x1)['trim']();var d9;while((d9=d8['lastIndexOf']('\x5c'))!=-0x1&&d9==d8['length']-0x1&&++d3<d4){d8=d8['substr'](0x0,d8['length']-0x2);d5=d2[d3];if(d5['length']==0x0)break;d8+='\x0a'+d5;d8=d8['trim']();}d1[d7]=d8;}return d1;};TDV['Tour']['HistoryData']=function(da){this['playList']=da;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(db){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==db){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],db);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(dc,dd){return typeof dd=='string'?dc[dd['replace']('this.','')]:dd;}function _initModels(){var de=this['getByClassName']('Model3D');de['forEach'](function(df){var dg=df['get']('data');var dh=dg['panoramaLocations'];if(dh){dh['forEach'](function(di){di=_getObject(this,di);var dj=di['get']('data');var dk=_getObject(this,dj['panorama']);dk['set']('modelLocations',(dk['get']('modelLocations')||[])['concat'](di));}['bind'](this));}this['getPlayListItems'](df)['forEach'](function(dl){_initModel3DItem['call'](this,dl);}['bind'](this));}['bind'](this));}function _initModel3DItem(dm){var dn=dm['get']('player');if(!dn)return;var dp=dn['get']('viewerArea');if(!dp)return;var dq=dm['get']('media');var dr;dm['bind']('begin',function(){_initModel['call'](this,dq);dr=dp['get']('doubleClickAction');dp['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(ds){if(ds['get']('class')=='PanoramaPlayer'&&ds['get']('viewerArea')==dp){ds['set']('model3DPlayer',dn);}});},this);dm['bind']('stop',function(){dp['set']('doubleClickAction',dr);},this);}function _initModel(dt){var du=dt['get']('data');if(!du)dt['set']('data',du={});if(!du['panoramaLocations']||du['isInitialized']||!dt['get']('isLoaded'))return;var dv=this['get']('data');var dw=0xb4/Math['PI'];var dx=dt['get']('worldUnitToMeters')||0x1;var dy=du['maxDistanceObjectsVisible']||0x0;var dz=du['panoramaLocations'];var dA=[];var dB=dv['surfaceSelectionHotspotMode'];var dC=dB=='hotspotEnabled';dz['forEach'](function(dJ){dJ=_getObject(this,dJ);var dK=dJ['get']('data');var dL=dt['getDistanceToFloor']([dJ['get']('x'),dJ['get']('y'),dJ['get']('z')]);var dM=_getObject(this,dK['panorama']);var dN=dz['filter'](function(dW){var dX=_getObject(this,_getObject(this,dW)['get']('data'));return!dX['excludeAsHotspotPanorama']&&dM!=dX['panorama'];}['bind'](this))['map'](function(dY){dY=_getObject(this,dY);var dZ=dY['get']('data');var e0=!!dZ['excludeSurfaceSelectionModel'];var e1=dY['get']('x')-dJ['get']('x'),e2=dY['get']('y')-dJ['get']('y'),e3=dY['get']('z')-dJ['get']('z');var e4=Math['atan2'](e1,-e3)*dw;var e5=Math['atan2'](e2,Math['sqrt'](e1*e1+e3*e3))*dw;var e6=Math['sqrt'](e1*e1+e2*e2+e3*e3);var e7=dt['getDistanceToFloor']([dY['get']('x'),dY['get']('y'),dY['get']('z')]);if(dL!==undefined&&e7!==undefined)e2=e7-dL;var e8=Math['sqrt'](e1*e1+e2*e2+e3*e3);return{'yaw':e4,'pitch':e5,'width':dZ['width'],'height':dZ['height'],'opacity':dZ['opacity'],'anchorX':dZ['anchorX']?dZ['anchorX']:0.5,'anchorY':dZ['anchorY']?dZ['anchorY']:0.5,'transparentAreaActive':!!dZ['transparentAreaActive'],'actions':dZ['actions'],'position':{'x':dY['get']('x'),'y':dY['get']('y'),'z':dY['get']('z')},'toolTip':dZ['toolTip'],'image':_getObject(this,dZ['image']),'distance':e6*dx,'floorDistance':e8*dx,'panorama':_getObject(this,dZ['panorama']),'backwardYaw':e4-0xb4-dY['get']('yaw'),'excludeSurfacePanorama':e0};}['bind'](this));dN['sort'](function(e9,ea){return e9['distance']-ea['distance'];});var dO=[],dP=(dM['get']('adjacentPanoramas')||[])['concat']();var dQ=dt['get']('maxNearestObjectsVisible');var dR=du['showOnlyHotspotsLineSightInPanoramas'];var dS={'x':dJ['get']('x'),'y':dJ['get']('y'),'z':dJ['get']('z')};dN['forEach'](function(eb){if(eb['panorama']==dM||dQ>0x0&&dO['length']>=dQ||dy>0x0&&eb['distance']>dy||dR&&dt['testIntersection'](dS,eb['position']))return;var ec=dE['call'](this,eb['panorama'],eb['yaw']-dJ['get']('yaw'),eb['pitch'],eb['width'],eb['height'],eb['anchorX'],eb['anchorY'],eb['opacity'],eb['transparentAreaActive'],eb['image'],dC&&!eb['excludeSurfacePanorama']);var ed=dF['call'](this,eb['panorama'],eb['yaw']-dJ['get']('yaw'),eb['backwardYaw'],eb['floorDistance'],!eb['excludeSurfacePanorama']);dO['push'](ec);var ee=dP['findIndex'](function(eh){return eh['get']('panorama')==eb['panorama'];});if(ee!=-0x1)dP['splice'](ee,0x1);dP['push'](ed);var ef=ec['get']('areas')[0x0];if(eb['toolTip']){ef['set']('toolTip',eb['toolTip']);}ef['bind']('click',dD['bind'](this,dM,eb['panorama'],dt,!![]),this);ed['bind']('select',dD['bind'](this,dM,eb['panorama'],dt,!![]),this);var eg=eb['actions'];if(eg){dI['call'](this,ec,eg);if('click'in eg)ed['bind']('select',new Function('event',eg['click']),this);}}['bind'](this));dM['set']('overlays',(dM['get']('overlays')||[])['concat'](dO));dM['set']('adjacentPanoramas',dP);var dT=!dt['get']('surfaceSelectionEnabled')||!!dK['excludeSurfaceSelectionModel'];var dU;if(dT){dU=dG['call'](this,dJ['get']('x'),dJ['get']('y'),dJ['get']('z'),dK['width'],dK['height'],dK['anchorX']?dK['anchorX']:0.5,dK['anchorY']?dK['anchorY']:0.5,dK['opacity'],!!dK['transparentAreaActive'],du['showOnlyHotspotsLineSight'],_getObject(this,dK['image']));dU['set']('id','sprite_'+dJ['get']('id'));dU['set']('translationLineColor',dK['translationLineColor']!=null?dK['translationLineColor']:'#ffffff');dU['set']('translationLineOpacity',dK['translationLineOpacity']!=null?dK['translationLineOpacity']:0x1);dU['set']('translationLineVisible',dK['translationLineVisible']!=null?dK['translationLineVisible']:![]);dU['set']('translationLineWidth',dK['translationLineWidth']!=null?dK['translationLineWidth']:0x1);dU['set']('translationLength',dK['translationLength']!=null?dK['translationLength']:du['showOnlyHotspotsLineSight']&&(dK['translationY']==null||dK['translationY']==0x0)?dK['height']/0x2:undefined);dU['set']('translationX',dK['translationX']!=null?dK['translationX']:0x0);dU['set']('translationY',dK['translationY']!=null&&dK['translationY']!=0x0?dK['translationY']:du['showOnlyHotspotsLineSight']?0x1:0x0);dU['set']('translationZ',dK['translationZ']!=null?dK['translationZ']:0x0);if(dK['toolTip'])dU['set']('toolTip',dK['toolTip']);}else dU=dH['call'](this,dJ['get']('x'),dJ['get']('y'),dJ['get']('z'));dK['object']=dU;if(dK['tags']!==undefined)dU['get']('data')['tags']=dK['tags'];if(dK['enabled']!==undefined)dU['set']('enabled',dK['enabled']);dU['get']('data')['location']=dJ;var dV=dK['actions'];if(dV){dI['call'](this,dU,dV);}dU['bind']('click',dD['bind'](this,dt,dM,dt,![]),this);dA['push'](dU);}['bind'](this));dt['set']('objects',(dt['get']('objects')||[])['concat'](dA));du['isInitialized']=!![];function dD(ei,ej,ek,el){var em=this['getPlayListsWithMedia'](ei,!![])['filter'](function(et){return this['getMediaFromPlayer'](et['get']('items')[et['get']('selectedIndex')]['get']('player'))==ei;}['bind'](this));if(em['length']==0x0)return;var en=this['getPlayListItemByMedia'](em[0x0],ei);var eo=en['get']('player')['get']('viewerArea');var ep;this['getPlayListsWithMedia'](ej)['forEach'](function(eu){var ev=this['getPlayListItemByMedia'](eu,ej);if(ev['get']('player')['get']('viewerArea')==eo){if(el&&en['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){eq();ev['bind']('begin',es,this);}eu['set']('selectedIndex',eu['get']('items')['indexOf'](ev));}}['bind'](this));function eq(){ep=ek['get']('objects')['filter'](function(ew){var ex=ew['get']('data');return ex&&ex['location']!==undefined;});ep['forEach'](function(ey){ey['set']('enabled',![]);});}function er(){ep['forEach'](function(ez){ez['set']('enabled',!![]);});}function es(eA){eA['source']['unbind']('begin',es,this);er();}}function dE(eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL){var eM=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eL,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eJ?'any':'image','displayTooltipInTouchScreens':dv['displayTooltipInTouchScreens']}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':eC,'pitch':eD,'width':eE,'height':eF,'offsetX':eG*eE,'offsetY':eH*eF,'opacity':eI!==undefined?eI:0x1}]});eM['get']('items')[0x0]['set']('image',eK);return eM;}function dF(eN,eO,eP,eQ,eR){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eN['get']('id'),'backwardYaw':eP,'yaw':eO,'distance':eQ,'enabledInSurfaceSelection':eR});}function dG(eS,eT,eU,eV,eW,eX,eY,eZ,f0,f1,f2){var f3=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eS,'y':eT,'z':eU,'anchorX':eX,'anchorY':eY,'depthTest':f1,'transparentAreaActive':f0,'hideBasedOnDistance':!![],'width':eV,'height':eW,'opacity':eZ!=undefined?eZ:0x1,'data':{}});f3['set']('image',f2);return f3;}function dH(f4,f5,f6){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f4,'y':f5,'z':f6,'depthTest':![],'data':{}});}function dI(f7,f8){Object['keys'](f8)['forEach'](function(f9){if(f7['hasEvent'](f9))f7['bind'](f9,new Function('event',f8[f9]),this);}['bind'](this));}}function _findLocationWithPanorama(fa){var fb=this['getByClassName']('Model3D');for(var fc=0x0,fd=fb['length'];fc<fd;++fc){var fe=fb[fc];var ff=fe['get']('data');if(ff&&ff['panoramaLocations']){var fg=ff['panoramaLocations']['find'](function(fh){fh=_getObject(this,fh);return _getObject(this,fh['get']('data')['panorama'])==fa;}['bind'](this));if(fg)return _getObject(this,fg);}}return undefined;}function _getPlayersWithViewer(fi){var fj=this['getCurrentPlayers']();var fk=fj['length'];while(fk-->0x0){var fl=fj[fk];if(fl['get']('viewerArea')!=fi){fj['splice'](fk,0x1);}}return fj;}function _createInstance(fm,fn,fo){var fp=fm['createInstance'](fn);if(fo){fp['set']('id',fo);fm[fo]=fp;}return fp;}function _createInstanceFromObj(fq,fr){return fs(fr);function fs(ft,fu){if(typeof ft=='object'){if('class'in ft){try{fu=_createInstance(fq,ft['class'],ft['id']);}catch(fy){fu=ft;}}else{fu=ft;}}var fv=function(fz,fA){if('set'in fu)fu['set'](fz,fA);else fu[fz]=fA;};for(var fw in ft){var fx=ft[fw];if(typeof fx=='object'&&fx!==null)fv(fw,fs(fx,fu));else if(typeof fx=='string'&&fx['indexOf']('this.')==0x0)fv(fw,fq[fx['replace']('this.','')]);else fv(fw,fx);}return fu;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fB,fC){for(var fD in fB){var fE=fB[fD];if(typeof fE=='object'&&fE!==null)this['assignObjRecursively'](fB[fD],fC[fD]||(fC[fD]={}));else fC[fD]=fE;}return fC;};TDV['Tour']['Script']['autotriggerAtStart']=function(fF,fG,fH){var fI=function(fJ){fG();if(fH==!![])fF['unbind']('change',fI,this);};fF['bind']('change',fI,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fK,fL,fM){var fN=function(){fO['unbind']('stop',fN,this);if(fM==fQ['get']('backgroundColor')&&fT==fQ['get']('backgroundColorRatios')){fQ['set']('backgroundColor',fR);fQ['set']('backgroundColorRatios',fS);}};var fO=fK['get']('items')[fL];var fP=fO['get']('player');var fQ=fP['get']('viewerArea');var fR=fQ['get']('backgroundColor');var fS=fQ['get']('backgroundColorRatios');var fT=[0x0];if(fM!=fR||fT!=fS){fQ['set']('backgroundColor',fM);fQ['set']('backgroundColorRatios',fT);fO['bind']('stop',fN,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fU,fV,fW){var fX=function(){fY['unbind']('stop',fX,this);if(g1==g0['get']('backgroundOpacity')){g0['set']('opacity',g1);}};var fY=fU['get']('items')[fV];var fZ=fY['get']('player');var g0=fZ['get']('viewerArea');var g1=g0['get']('backgroundOpacity');if(fW!=g1){g0['set']('backgroundOpacity',fW);fY['bind']('stop',fX,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(g2,g3){var g4=g2['get']('selectedIndex');if(g4>=0x0&&g3>=0x0&&g4!=g3){var g5=g2['get']('items')[g4];var g6=g2['get']('items')[g3];var g7=g5['get']('player');var g8=g6['get']('player');if((g7['get']('class')=='PanoramaPlayer'||g7['get']('class')=='Video360Player')&&(g8['get']('class')=='PanoramaPlayer'||g8['get']('class')=='Video360Player')){var g9=this['clonePanoramaCamera'](g6['get']('camera'));this['setCameraSameSpotAsMedia'](g9,g5['get']('media'));var gb=g9['get']('initialPosition');if(gb['get']('yaw')==undefined||gb['get']('pitch')==undefined||gb['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g6['get']('media'),g9);}}};TDV['Tour']['Script']['clone']=function(gc,gd){var ge=this['rootPlayer']['createInstance'](gc['get']('class'));var gf=gc['get']('id');if(gf){var gg=gf+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);ge['set']('id',gg);this[gg]=ge;}for(var gh=0x0;gh<gd['length'];++gh){var gi=gd[gh];var gj=gc['get'](gi);if(gj!=null)ge['set'](gi,gj);}return ge;};TDV['Tour']['Script']['cloneBindings']=function(gk,gl,gm){var gn=gk['getBindings'](gm);for(var go=0x0;go<gn['length'];++go){var gp=gn[go];if(typeof gp=='string')gp=new Function('event',gp);gl['bind'](gm,gp,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(gq){var gr=this['clone'](gq,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gs=['initialSequence','idleSequence'];for(var gt=0x0;gt<gs['length'];++gt){var gu=gs[gt];var gv=gq['get'](gu);if(gv){var gw=this['clone'](gv,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gr['set'](gu,gw);var gx=gv['get']('movements');var gy=[];var gz=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gA=0x0;gA<gx['length'];++gA){var gB=gx[gA];var gC=this['clone'](gB,gz);var gD=gB['getBindings']('end');if(gD['length']>0x0){for(var gE=0x0;gE<gD['length'];++gE){var gF=gD[gE];if(typeof gF=='string'){gF=gF['replace'](gq['get']('id'),gr['get']('id'));gF=new Function('event',gF);gC['bind']('end',gF,this);}}}gy['push'](gC);}gw['set']('movements',gy);}}return gr;};TDV['Tour']['Script']['copyObjRecursively']=function(gG){var gH={};for(var gI in gG){var gJ=gG[gI];if(typeof gJ=='object'&&gJ!==null)gH[gI]=this['copyObjRecursively'](gG[gI]);else gH[gI]=gJ;}return gH;};TDV['Tour']['Script']['copyToClipboard']=function(gK){if(navigator['clipboard']){navigator['clipboard']['writeText'](gK);}else{var gL=document['createElement']('textarea');gL['value']=gK;gL['style']['position']='fixed';document['body']['appendChild'](gL);gL['focus']();gL['select']();try{document['execCommand']('copy');}catch(gM){}document['body']['removeChild'](gL);}};TDV['Tour']['Script']['createTween']=function(gN,gO,gP,gQ,gR){var gS=this['rootPlayer']['createInstance']('Effect');var gT=this['get']('data')['tweensState'];if(!gT){this['get']('data')['tweensState']=gT={};}var gU='get'in gN&&typeof gN['get']==='function';var gV=(gU&&gN['get']('id')?gN['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gW={};for(var gX in gO){var gY=gO[gX];if(gX['startsWith']('on')&&(typeof gY==='function'||typeof gY==='string')){var gZ=gX['slice'](0x2);if(typeof gY==='string')gY=eval('('+gY+')');gS['bind'](gZ['charAt'](0x0)['toLowerCase']()+gZ['slice'](0x1),gY,this);}else if(typeof gY==='string'&&gY['startsWith']('#')){var h0=parseInt('0x'+(gU?gN['get'](gX)['slice'](0x1):gN[gX]['slice'](0x1)));var h1=parseInt('0x'+gY['slice'](0x1));gW[gX]={'color':!![],'initialRGB':[h0>>0x10&0xff,h0>>0x8&0xff,h0&0xff],'finalRGB':[h1>>0x10&0xff,h1>>0x8&0xff,h1&0xff]};gT[gV+gX]=gS;}else{gW[gX]=gU?gN['get'](gX):gN[gX];if(gX=='yaw'&&Math['abs'](gY-gW[gX])>0xb4)gW[gX]=gW[gX]+(gY>gW[gX]?0x168:-0x168);gT[gV+gX]=gS;}}gS['set']('duration',(gP||0x0)*0x3e8);gS['set']('easing',gQ||'cubic_in_out');gS['set']('animationDirection',gR||'normal');gS['bind']('end',function(){for(var h2 in gW){if(gT[gV+h2]==gS)delete gT[gV+h2];}this['disposeInstance'](gS);},this);gS['bind']('frame',function(){var h3=gS['getPosition']();for(var h4 in gW){var h5=gW[h4];if(gT[gV+h4]!=gS)continue;if(typeof h5==='object'&&'color'in h5){var h6=Math['round'](h5['initialRGB'][0x0]+(h5['finalRGB'][0x0]-h5['initialRGB'][0x0])*h3);var h7=Math['round'](h5['initialRGB'][0x1]+(h5['finalRGB'][0x1]-h5['initialRGB'][0x1])*h3);var h8=Math['round'](h5['initialRGB'][0x2]+(h5['finalRGB'][0x2]-h5['initialRGB'][0x2])*h3);h5='#'+((0x1<<0x18)+(h6<<0x10)+(h7<<0x8)+h8)['toString'](0x10)['slice'](0x1);}else{h5=h5+(gO[h4]-h5)*h3;}if(gU)gN['set'](h4,h5);else gN[h4]=h5;}},this);return gS;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h9,ha,hb,hc){var hd=undefined;var he=function(hi){if(hi['data']['previousSelectedIndex']==ha){if(hc)hc['call'](this);if(hb&&hd)hd['unbind']('end',hb,this);h9['unbind']('change',he,this);}};if(hb){var hf=h9['get']('items')[ha];var hg=hf['get']('class');if(hg=='PanoramaPlayListItem'||hg=='Model3DPlayListItem'){var hh=hf['get']('camera');if(hh!=undefined){hd=hh['get']('initialSequence');if(hd==undefined)hd=hh['get']('idleSequence');}}else{hd=hf['get']('media');}if(hd){hd['bind']('end',hb,this);}}h9['bind']('change',he,this);};TDV['Tour']['Script']['executeJS']=function(hj){try{eval(hj);}catch(hk){console['log']('Javascript\x20error:\x20'+hk);console['log']('\x20\x20\x20code:\x20'+hj);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hl){var hm=hl['get']('buttonPlayPause');if(typeof hm!=='undefined'&&hl['get']('state')=='playing'){if(!Array['isArray'](hm))hm=[hm];for(var hn=0x0;hn<hm['length'];++hn)hm[hn]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(ho){var hp=this['getActivePlayerWithViewer'](ho);if(hp==undefined){return undefined;}return this['getMediaFromPlayer'](hp);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(hq){var hr=this['getActivePlayersWithViewer'](hq);if(hr['length']>0x1){hr['sort'](function(hs,ht){var hu=hs['get']('class');var hv=ht['get']('class');if(hu=='Model3DPlayer')return 0x1;else if(hv=='Model3DPlayer')return-0x1;else return 0x0;});}return hr['length']>0x0?hr[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hw){var hx=this['getCurrentPlayers']();var hy=hx['length'];var hz=[];while(hy-->0x0){var hA=hx[hy];if(hA['get']('viewerArea')==hw){var hB=hA['get']('class');if(hB=='PanoramaPlayer'&&(hA['get']('panorama')!=undefined||hA['get']('video')!=undefined)||(hB=='VideoPlayer'||hB=='Video360Player')&&hA['get']('video')!=undefined||hB=='PhotoAlbumPlayer'&&hA['get']('photoAlbum')!=undefined||hB=='MapPlayer'&&hA['get']('map')!=undefined||hB=='Model3DPlayer'&&hA['get']('model')!=undefined)hz['push'](hA);}}return hz;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hC){var hD=undefined;var hE=undefined;switch(hC['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hD='PanoramaPlayer';hE='panorama';break;case'Video360':hD='PanoramaPlayer';hE='video';break;case'PhotoAlbum':hD='PhotoAlbumPlayer';hE='photoAlbum';break;case'Map':hD='MapPlayer';hE='map';break;case'Video':hD='VideoPlayer';hE='video';break;case'Model3D':hD='Model3DPlayer';hE='media';break;}if(hD!=undefined){var hF=this['getByClassName'](hD);for(var hG=0x0;hG<hF['length'];++hG){var hH=hF[hG];if(hH['get'](hE)==hC){return hH;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hI=this['getByClassName']('PanoramaPlayer');hI=hI['concat'](this['getByClassName']('VideoPlayer'));hI=hI['concat'](this['getByClassName']('Video360Player'));hI=hI['concat'](this['getByClassName']('PhotoAlbumPlayer'));hI=hI['concat'](this['getByClassName']('MapPlayer'));hI=hI['concat'](this['getByClassName']('Model3DPlayer'));return hI;};TDV['Tour']['Script']['getGlobalAudio']=function(hJ){var hK=window['currentGlobalAudios'];if(hK!=undefined&&hJ['get']('id')in hK){hJ=hK[hJ['get']('id')]['audio'];}return hJ;};TDV['Tour']['Script']['getMediaByName']=function(hL){var hM=this['getByClassName']('Media');for(var hN=0x0,hO=hM['length'];hN<hO;++hN){var hP=hM[hN];var hQ=hP['get']('data');if(hQ&&hQ['label']==hL){return hP;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hR,hS){return this['_getObjectsByTags'](hR,['Media'],'tags2Media',hS);};TDV['Tour']['Script']['getAudioByTags']=function(hT,hU){return this['_getObjectsByTags'](hT,['Audio'],'tags2Media',hU);};TDV['Tour']['Script']['getOverlaysByTags']=function(hV,hW){var hX=this['_getObjectsByTags'](hV,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hW);return hX['map'](hY=>{return hY['get']('class')=='PanoramaModel3DLocation'?hY['get']('data')['object']:hY;});};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hZ){var i0=this['get']('data');var i1='groupname2Overlays';var i2=i0[i1];if(!i2){var i3=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];i0[i1]=i2={};for(var i4=0x0;i4<i3['length'];++i4){var i5=i3[i4];var i6=this['getByClassName'](i5);for(var i7=0x0,i8=i6['length'];i7<i8;++i7){var i9=i6[i7];var ia=i9['get']('data');if(ia&&ia['group']){var ib=i2[ia['group']];if(!ib)i2[ia['group']]=ib=[];ib['push'](i9);}}}}return i2[hZ]||[];};TDV['Tour']['Script']['getRootOverlay']=function(ic){var ie=ic['get']('class');var ig=ie['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ih=ie['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(ig||ih){var ii=this['get']('data');var ij='overlays';var ik=ii[ij];if(!ik){var il=['HotspotPanoramaOverlay'];ik=[];for(var im=0x0;im<il['length'];++im){var io=il[im];ik=ik['concat'](this['getByClassName'](io));}ii[ij]=ik;}var ip=ig?'areas':'items';for(var iq=0x0,ir=ik['length'];iq<ir;++iq){var is=ik[iq];var it=is['get'](ip);if(it){for(var iu=0x0;iu<it['length'];++iu){if(it[iu]==ic)return is;}}}}return ic;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(iv){var iw=this['getOverlaysByGroupname'](iv);if(iw['length']>0x1){iw['sort'](function(iD,iE){var iF=iD['get']('data')['groupIndex'];var iG=iE['get']('data')['groupIndex'];return iF-iG;});for(var ix=0x0,iy=iw['length'];ix<iy;++ix){var iz=iw[ix];var iA=iw[(ix+0x1)%iy];var iB=iz['get']('class');var iC=iz;if(iB=='HotspotPanoramaOverlay'){iC=iz['get']('areas')[0x0];}iC['bind']('click',function(iH,iI){this['setOverlaysVisibility']([iH],![]);this['setOverlaysVisibility']([iI],!![]);}['bind'](this,iz,iA),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iJ,iK){return this['_getObjectsByTags'](iJ,['UIComponent'],'tags2Components',iK);};TDV['Tour']['Script']['_getObjectsByTags']=function(iL,iM,iN,iO){var iP=this['get']('data');var iQ=iP[iN];if(!iQ){iP[iN]=iQ={};for(var iR=0x0;iR<iM['length'];++iR){var iS=iM[iR];var iT=this['getByClassName'](iS);for(var iV=0x0,iX=iT['length'];iV<iX;++iV){var iZ=iT[iV];var j0=iZ['get']('data');if(j0&&j0['tags']){var j1=j0['tags'];for(var j4=0x0,j5=j1['length'];j4<j5;++j4){var j6=j1[j4];if(j6 in iQ)iQ[j6]['push'](iZ);else iQ[j6]=[iZ];}}}}}var j7=undefined;iO=iO||'and';for(var iV=0x0,iX=iL['length'];iV<iX;++iV){var j8=iQ[iL[iV]];if(!j8)continue;if(!j7)j7=j8['concat']();else{if(iO=='and'){for(var j4=j7['length']-0x1;j4>=0x0;--j4){if(j8['indexOf'](j7[j4])==-0x1)j7['splice'](j4,0x1);}}else if(iO=='or'){for(var j4=j8['length']-0x1;j4>=0x0;--j4){var iZ=j8[j4];if(j7['indexOf'](iZ)==-0x1)j7['push'](iZ);}}}}return j7||[];};TDV['Tour']['Script']['getComponentByName']=function(j9){var ja=this['getByClassName']('UIComponent');for(var jb=0x0,jc=ja['length'];jb<jc;++jb){var jd=ja[jb];var je=jd['get']('data');if(je!=undefined&&je['name']==j9){return jd;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var jf='MainViewer';return this[jf]||this[jf+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(jg){switch(jg['get']('class')){case'PanoramaPlayer':return jg['get']('panorama')||jg['get']('video');case'VideoPlayer':case'Video360Player':return jg['get']('video');case'PhotoAlbumPlayer':return jg['get']('photoAlbum');case'MapPlayer':return jg['get']('map');case'Model3DPlayer':return jg['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jh){switch(jh['get']('class')){case'Video360':var ji=jh['get']('video');if(ji instanceof Array){var jj=0x0;for(var jk=0x0;jk<ji['length'];jk++){var jl=ji[jk];if(jl['get']('width')>jj)jj=jl['get']('width');}return jj;}else{return jl['get']('width');}default:return jh['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jm){switch(jm['get']('class')){case'Video360':var jn=jm['get']('video');if(jn instanceof Array){var jo=0x0;for(var jp=0x0;jp<jn['length'];jp++){var jq=jn[jp];if(jq['get']('height')>jo)jo=jq['get']('height');}return jo;}else{return jq['get']('height');}default:return jm['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jr){switch(jr['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var js=jr['get']('overlays')['concat']()||[];var jt=jr['get']('frames');for(var ju=0x0;ju<jt['length'];++ju){js=js['concat'](jt[ju]['get']('overlays')||[]);}return js;case'Video360':case'Map':return jr['get']('overlays')||[];case'Model3D':return jr['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jv,jw){var jx=this['getOverlays'](jv);for(var jy=0x0,jz=jx['length'];jy<jz;++jy){var jA=jx[jy];var jB=jA['get']('data');if(jB!=undefined&&jB['label']==jw){return jA;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jC,jD,jE){var jF=[];var jG=this['getOverlays'](jC);var jH=this['getOverlaysByTags'](jD,jE);for(var jI=0x0,jJ=jG['length'];jI<jJ;++jI){var jK=jG[jI];if(jH['indexOf'](jK)!=-0x1)jF['push'](jK);}return jF;};TDV['Tour']['Script']['getPixels']=function(jL){var jM=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jL);if(jM==undefined){return 0x0;}var jN=parseFloat(jM[0x1]);var jO=jM[0x4];var jP=this['rootPlayer']['get']('actualWidth')/0x64;var jQ=this['rootPlayer']['get']('actualHeight')/0x64;switch(jO){case'vw':return jN*jP;case'vh':return jN*jQ;case'vmin':return jN*Math['min'](jP,jQ);case'vmax':return jN*Math['max'](jP,jQ);default:return jN;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jR,jS){var jT=[];var jU=this['getByClassName']('PlayList');for(var jV=0x0,jW=jU['length'];jV<jW;++jV){var jX=jU[jV];if(jS&&jX['get']('selectedIndex')==-0x1)continue;var jY=this['getPlayListItemByMedia'](jX,jR);if(jY!=undefined&&jY['get']('player')!=undefined)jT['push'](jX);}return jT;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jZ){var k0=this['getByClassName']('PlayList');var k1=function(k3){var k4=k3['get']('items');for(var k5=k4['length']-0x1;k5>=0x0;--k5){var k6=k4[k5];var k7=k6['get']('player');if(k7!==undefined&&k7['get']('viewerArea')==jZ)return!![];}return![];};for(var k2=k0['length']-0x1;k2>=0x0;--k2){if(!k1(k0[k2]))k0['splice'](k2,0x1);}return k0;};TDV['Tour']['Script']['getPlayListWithItem']=function(k8){var k9=this['getByClassName']('PlayList');for(var ka=k9['length']-0x1;ka>=0x0;--ka){var kb=k9[ka];var kc=kb['get']('items');for(var kd=kc['length']-0x1;kd>=0x0;--kd){var ke=kc[kd];if(ke==k8)return kb;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(kf,kg){var kh=this['getPlayListsWithMedia'](kf,kg);return kh['length']>0x0?kh[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(ki,kj){var kk=ki['get']('items');for(var kl=0x0,km=kk['length'];kl<km;++kl){var kn=kk[kl];if(kn['get']('media')==kj)return kn;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(ko,kp){var kq=this['getPlayListItemByMedia'](ko,kp);return kq?ko['get']('items')['indexOf'](kq):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kr,ks){var kt=function(){switch(kr['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kt!=undefined){var ku=this['getByClassName'](kt);for(var kv=ku['length']-0x1;kv>=0x0;--kv){var kw=ku[kv];if(kw['get']('media')!=kr||ks!=undefined&&kw['get']('player')!=ks){ku['splice'](kv,0x1);}}return ku;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kx){var ky=this['get']('data')['history'][kx['get']('id')];if(ky!=undefined){ky['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kz){var kA=this['get']('data')['history'][kz['get']('id')];if(kA!=undefined){kA['forward']();}};TDV['Tour']['Script']['init']=function(){var kB=this['get']('data')['history'];var kC=function(kL){var kM=kL['source'];var kN=kM['get']('selectedIndex');if(kN<0x0)return;var kO=kM['get']('id');if(!kB['hasOwnProperty'](kO))kB[kO]=new TDV['Tour']['HistoryData'](kM);kB[kO]['add'](kN);};var kD=this['getByClassName']('PlayList');for(var kF=0x0,kG=kD['length'];kF<kG;++kF){var kH=kD[kF];kH['bind']('change',kC,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kI=this['getByClassName']('ThumbnailList');kI=kI['concat'](this['getByClassName']('ThumbnailGrid'));kI=kI['concat'](this['getByClassName']('DropDown'));function kP(kQ){var kR=kQ['source']['get']('playList');var kS=kR['get']('selectedIndex');if(kS>=0x0){this['skip3DTransitionOnce'](kR['get']('items')[kS]['get']('player'));}}for(var kF=0x0,kJ=kI['length'];kF<kJ;++kF){var kK=kI[kF];kK['bind']('change',kP,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kT,kU,kV){if(window['dataLayer']){window['dataLayer']['push']({'event':kU,'label':kV,'category':kT});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kT,kU,kV);}if(window['gtag']){window['gtag']('event',kU,{'category':kT,'label':kV});}};TDV['Tour']['Script']['initAnalytics']=function(){var kX=this['getByClassName']('Panorama');kX=kX['concat'](this['getByClassName']('Video360'));kX=kX['concat'](this['getByClassName']('Map'));kX=kX['concat'](this['getByClassName']('Model3D'));for(var l0=0x0,l3=kX['length'];l0<l3;++l0){var l4=kX[l0];var l7=l4['get']('data');var l8=l7?l7['label']:'';var l9=this['getOverlays'](l4);for(var la=0x0,lb=l9['length'];la<lb;++la){var lc=l9[la];var ld=lc['get']('data')!=undefined?l8+'\x20-\x20'+lc['get']('data')['label']:l8;switch(lc['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var le=lc['get']('areas');for(var lf=0x0;lf<le['length'];++lf){le[lf]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',ld),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':lc['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',ld),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':lc['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',ld),this,![]);lc['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',ld),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':lc['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',ld),this,![]);break;}}}var lg=this['getByClassName']('UIComponent');for(var l0=0x0,l3=lg['length'];l0<l3;++l0){var lh=lg[l0];var li=lh['getBindings']('click');if(li['length']>0x0){var l7=lh['get']('data');if(l7===undefined)continue;var lj=l7['name'];lh['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',lj),this,![]);}}var lk=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var ll={};for(var l0=0x0,l3=lk['length'];l0<l3;++l0){var lm=lk[l0];var kX=lm['get']('media');if(!(kX['get']('id')in ll)){var l7=kX['get']('data');lm['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l7?l7['label']:undefined),this,![]);ll[kX['get']('id')]=lm;}}if(TDV['Remote']!=undefined){var ln=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lo){ln=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lo);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(lp){var lq=new Date();lq['setTime'](Date['now']()-ln);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+lp+'\x20Duration:\x20'+lq['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lr,ls,lt){var lu={"score":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"horizontalAlign":"center","minWidth":500,"calification":{"fontColor":"#009fe3","width":"100%","fontWeight":"bold","fontSize":30,"fontFamily":"Arial","paddingBottom":10,"verticalAlign":"middle","paddingRight":100,"paddingLeft":100,"textAlign":"center","paddingTop":15},"buttonsContainer":{"horizontalAlign":"center","gap":8,"button":{"fontColor":"#ffffff","horizontalAlign":"center","fontWeight":"bold","paddingTop":12,"fontFamily":"Arial","backgroundColor":"#009fe3","verticalAlign":"middle","paddingRight":25,"paddingLeft":25,"fontSize":15,"paddingBottom":12},"verticalAlign":"middle","paddingBottom":50,"width":"100%","paddingRight":100,"paddingLeft":100,"paddingTop":35},"stats":{"horizontalAlign":"center","borderSize":1,"height":150,"borderRadius":75,"verticalAlign":"middle","gap":0,"layout":"vertical","mainValue":{"fontColor":"#000000","fontWeight":"bold","fontSize":40,"fontFamily":"Arial"},"borderColor":"#009fe3","title":{"fontColor":"#000000","fontWeight":"normal","fontSize":20,"fontFamily":"Arial","paddingRight":5,"paddingLeft":5,"paddingTop":10},"secondaryValue":{"fontColor":"#000000","fontWeight":"bold","paddingLeft":5,"fontSize":20,"fontFamily":"Arial"},"minWidth":150,"label":{"fontColor":"#000000","fontWeight":"normal","fontSize":15,"fontFamily":"Arial"}},"maxWidth":1500,"shadow":true,"shadowColor":"#000000","paddingLeft":20,"paddingTop":20,"backgroundColor":"#ffffff","content":{"width":"100%","horizontalAlign":"center"},"closeButton":{"height":45,"iconLineWidth":2,"iconHeight":18,"backgroundColor":"#009fe3","iconWidth":18,"width":45,"iconColor":"#ffffff"},"shadowBlurRadius":4,"shadowVerticalLength":0,"shadowHorizontalLength":0,"paddingBottom":20,"timeContainer":{"horizontalAlign":"center","paddingRight":100,"verticalAlign":"middle","paddingBottom":15,"width":"100%","gap":5,"paddingLeft":100,"paddingTop":10},"shadowOpacity":0.3,"paddingRight":20,"shadowSpread":4,"statsContainer":{"horizontalAlign":"center","paddingRight":100,"verticalAlign":"middle","paddingBottom":15,"gap":20,"paddingLeft":100,"paddingTop":15,"contentOpaque":true,"overflow":"scroll"},"title":{"fontColor":"#000000","fontWeight":"bold","fontSize":50,"fontFamily":"Arial","paddingBottom":15,"paddingTop":50,"textAlign":"center"},"description":{"fontColor":"#000000","fontWeight":"normal","paddingTop":15,"fontFamily":"Arial","paddingBottom":15,"paddingRight":100,"paddingLeft":100,"fontSize":16,"textAlign":"center"}}},"question":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"mediaContainer":{"height":"100%","buttonPrevious":{"width":25,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","height":37},"width":"70%","viewerArea":{"playbackBarHeadShadow":true,"playbackBarHeadOpacity":1,"playbackBarRight":0,"playbackBarBorderRadius":0,"playbackBarHeadShadowVerticalLength":0,"playbackBarHeadShadowBlurRadius":2,"playbackBarProgressBackgroundColor":"#3399ff","playbackBarBackgroundColor":"#000000","playbackBarLeft":0,"playbackBarHeight":6,"playbackBarHeadBorderRadius":7,"playbackBarHeadHeight":14,"backgroundColor":"#e6e6e6","playbackBarHeadShadowOpacity":0.3,"playbackBarProgressOpacity":0.5,"playbackBarBackgroundOpacity":0.5,"playbackBarHeadBackgroundColor":"#cccccc","backgroundOpacity":1,"playbackBarHeadBorderColor":"#ffffff","playbackBarHeadWidth":14,"playbackBarHeadShadowColor":"#000000","playbackBarHeadShadowSpread":2,"playbackBarBottom":5,"playbackBarBorderSize":0,"playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadBorderSize":3},"buttonNext":{"width":25,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","height":37}},"horizontalAlign":"center","paddingRight":20,"borderRadius":5,"shadowColor":"#000000","paddingTop":20,"shadow":true,"closeButton":{"height":45,"iconLineWidth":2,"iconHeight":18,"backgroundColor":"#009FE3","iconWidth":18,"width":45,"iconColor":"#FFFFFF"},"bodyContainer":{"width":"100%","gap":35,"height":"100%","paddingRight":30,"paddingLeft":30,"layout":"horizontal","paddingBottom":30},"paddingBottom":20,"option":{"gap":10,"text":{"fontColor":"#404040","textAlign":"left","fontFamily":"Arial","selected":{"paddingTop":9,"fontColor":"#000000","textAlign":"left","fontSize":18,"fontFamily":"Arial"},"verticalAlign":"middle","paddingTop":9,"fontSize":18},"label":{"horizontalAlign":"center","fontFamily":"Arial","backgroundColor":"#000000","borderRadius":19,"width":38,"verticalAlign":"middle","correct":{"horizontalAlign":"center","fontFamily":"Arial","backgroundColor":"#39b54a","borderRadius":19,"width":38,"verticalAlign":"middle","backgroundOpacity":1,"height":38,"pressedBackgroundOpacity":1,"fontColor":"#ffffff","fontWeight":"bold","fontSize":18},"backgroundOpacity":0.2,"height":38,"pressedBackgroundOpacity":1,"fontColor":"#ffffff","fontWeight":"bold","incorrect":{"horizontalAlign":"center","fontFamily":"Arial","backgroundColor":"#ed1c24","borderRadius":19,"width":38,"verticalAlign":"middle","backgroundOpacity":1,"height":38,"pressedBackgroundOpacity":1,"fontColor":"#ffffff","fontWeight":"bold","fontSize":18},"fontSize":18}},"title":{"fontColor":"#000000","fontWeight":"bold","paddingTop":25,"fontFamily":"Arial","paddingBottom":40,"paddingRight":50,"paddingLeft":50,"fontSize":20,"textAlign":"center"},"buttonsContainer":{"horizontalAlign":"right","verticalAlign":"bottom","button":{"horizontalAlign":"center","fontFamily":"Arial","backgroundColor":"#000000","borderRadius":3,"verticalAlign":"middle","paddingLeft":25,"paddingTop":10,"backgroundOpacity":0.7,"fontColor":"#ffffff","fontWeight":"bold","paddingBottom":10,"paddingRight":25,"fontSize":18}},"optionsContainer":{"overflow":"scroll","width":"30%","gap":10,"contentOpaque":true,"height":"100%"},"width":"60%","backgroundOpacity":1,"height":"60%","shadowBlurRadius":4,"paddingLeft":20,"backgroundColor":"#ffffff","shadowVerticalLength":0,"shadowHorizontalLength":0,"shadowOpacity":0.3,"minWidth":500,"shadowSpread":4}},"timeout":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"horizontalAlign":"center","gap":15,"backgroundColor":"#ffffff","shadow":true,"shadowColor":"#000000","icon":{"width":62,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","height":72},"paddingLeft":80,"paddingTop":45,"shadowBlurRadius":4,"shadowVerticalLength":0,"shadowHorizontalLength":0,"paddingBottom":55,"shadowOpacity":0.3,"paddingRight":80,"shadowSpread":4,"button":{"fontColor":"#ffffff","horizontalAlign":"center","fontWeight":"bold","paddingTop":12,"fontFamily":"Arial","backgroundColor":"#009fe3","verticalAlign":"middle","paddingRight":25,"paddingLeft":25,"fontSize":15,"paddingBottom":12},"title":{"fontColor":"#000000","fontWeight":"bold","fontSize":40,"fontFamily":"Arial","paddingBottom":20,"textAlign":"center"},"buttonsContainer":{"horizontalAlign":"center","gap":10,"width":"100%"}}}};var lv=this['get']('data');var lw=lv['createQuizConfig']['call'](this);lH['call'](this,lw);lw['playList']=lr;lw['player']=this;lw['theme']='theme'in lw?this['mixObject'](lu,lw['theme']):lu;if(lw['questions']){lG['call'](this,lw['questions']);for(var lx=0x0;lx<lw['questions']['length'];++lx){var ly=lw['questions'][lx];lG['call'](this,ly['options']);}}if(lw['objectives']){lG['call'](this,lw['objectives']);}if(lw['califications']){lG['call'](this,lw['califications']);}if(lw['score']){this[lw['score']['id']]=lw['score'];}if(lw['question']){this[lw['question']['id']]=lw['question'];}if(lw['timeout']){this[lw['timeout']['id']]=lw['timeout'];}var lz=lw['data']&&lw['data']['titlesScale']?lw['data']['titlesScale']:0x1;var lA=lw['data']&&lw['data']['bodyScale']?lw['data']['bodyScale']:0x1;if(this['get']('isMobile')&&!this['get']('data')['tour']['isIPad']()){var lB=this['mixObject'](lw['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*lA,'paddingLeft':0xa,'paddingRight':0xa}}}});lw['theme']=lB;}var lC=document['getElementById']('metaViewport');var lD=lC?/initial-scale=(\d+(\.\d+)?)/['exec'](lC['getAttribute']('content')):undefined;var lE=lD?lD[0x1]:0x1;lv['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lE,'maxHeight':0x258/lE,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lv['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lz,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lF=new TDV['Quiz'](lw);lF['setMaxListeners'](0x32);if(lt===!![]){lF['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lF['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lF['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lF['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lF['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lF['finish']();},0x0);}['bind'](this));}if(ls===!![]){lF['start']();}lv['quiz']=lF;lv['quizConfig']=lw;function lG(lI){for(var lJ=0x0;lJ<lI['length'];++lJ){var lK=lI[lJ];if('id'in lK)this[lK['id']]=lK;}}function lH(lL){for(var lM in lL){var lN=lL[lM];if(typeof lN=='object'&&lN!==null)lH['call'](this,lN);else if(typeof lN=='string'&&lN['startsWith']('this.'))lL[lM]=_getObject(this,lN);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lO){var lP=this['get']('data')['quiz'];var lQ=this['get']('data')['quizConfig'];var lR=lQ['objectives'];var lS=0x0;for(var lT=0x0,lU=lR['length'];lT<lU;++lT){var lV=lR[lT];lS+=lP['getObjective'](lV['id'],lO);}return lS;};TDV['Tour']['Script']['_initSplitViewer']=function(lW){function lX(){var mk=lW['get']('actualWidth');m9['get']('children')[0x0]['set']('width',mk);ma['get']('children')[0x0]['set']('width',mk);var ml=md['get']('left');var mm=typeof ml=='string'?lY(ml):ml;mm+=md['get']('actualWidth')*0.5;m9['set']('width',lZ(mm));ma['set']('width',lZ(mk-mm));}function lY(mn){return parseFloat(mn['replace']('%',''))/0x64*lW['get']('actualWidth');}function lZ(mo){return mo/lW['get']('actualWidth')*0x64+'%';}function m0(mp){m1(mp['source']);}function m1(mq){var mr=mq==mf?me:mf;if(mg&&mq!=mg||!mq||!mr)return;var ms=mq['get']('class');var mt=mr['get']('class');if(ms=='PanoramaPlayer'&&mt=='PanoramaPlayer'){var mu=mr['get']('camera')['get']('initialPosition')['get']('yaw')-mq['get']('camera')['get']('initialPosition')['get']('yaw');mr['setPosition'](mq['get']('yaw')+mu,mq['get']('pitch'),mq['get']('roll'),mq['get']('hfov'));}else if(ms=='Model3DPlayer'&&mt=='Model3DPlayer'){var mv=mq['get']('model')['get']('camera');var mw=mr['get']('model')['get']('camera');var mx=['yaw','pitch','x','y','z','fov'];if(mv['get']('class')=='OrbitModel3DCamera'&&mw['get']('class')=='OrbitModel3DCamera')mx['push']('distance');mx['forEach'](my=>{mw['set'](my,mv['get'](my));});}}function m2(mz){mg=mz['source'];}function m3(mA){m6['call'](this,mA['source']);}function m4(mB){var mC=mB['get']('viewerArea');if(mC==mb){if(me&&me['get']('class')=='PanoramaPlayer'){me['get']('camera')['set']('hoverFactor',mh);}me=mB;mg=me;if(me&&me['get']('class')=='PanoramaPlayer'){mh=me['get']('camera')['get']('hoverFactor');me['get']('camera')['set']('hoverFactor',0x0);}}else if(mC==mc){if(mf&&mf['get']('class')=='PanoramaPlayer'){mf['get']('camera')['set']('hoverFactor',mi);}mf=mB;mg=mf;if(mf&&mf['get']('class')=='PanoramaPlayer'){mi=mf['get']('camera')['get']('hoverFactor');mf['get']('camera')['set']('hoverFactor',0x0);}}m1(mB);}function m5(mD){var mE=this['getCurrentPlayers']();var mF=mE['length'];while(mF-->0x0){var mH=mE[mF];if(mH['get']('viewerArea')!=mD){mE['splice'](mF,0x1);}}for(mF=0x0;mF<mE['length'];++mF){var mH=mE[mF];mH['bind']('preloadMediaShow',m3,this);if(mH['get']('class')=='PanoramaPlayer'){mH['bind']('cameraPositionChange',m0,this);mH['bind']('userInteractionStart',m2,this);}m6['call'](this,mH);}return mE;}function m6(mI){var mJ=mj['find'](mL=>{return mL['player']==mI;});if(mJ){if(mJ['media']['get']('class')=='Model3D'){mJ['media']['get']('camera')['unbind']('positionSet',mJ['updateFn'],this);mJ['media']['get']('camera')['unbind']('userInteractionStart',mJ['userInteractionStartFn'],this);}mj['splice'](mj['indexOf'](mJ),0x1);}var mK=this['getMediaFromPlayer'](mI);if(!mK)return;mJ={'media':mK,'player':mI,'updateFn':()=>{m1(mI);},'userInteractionStartFn'(){mg=mI;}};mj['push'](mJ);if(mJ['media']['get']('class')=='Model3D'){mJ['media']['get']('camera')['bind']('positionSet',mJ['updateFn'],this);mJ['media']['get']('camera')['bind']('userInteractionStart',mJ['userInteractionStartFn'],this);}m4(mI);}function m7(mM){m4(this['getActivePlayerWithViewer'](mM['source']));m1(mg);}var m8=lW['get']('children');var m9=m8[0x0];var ma=m8[0x1];var mb=m9['get']('children')[0x0];var mc=ma['get']('children')[0x0];var md=m8[0x2];var me,mf,mg;var mh,mi;var mj=[];m5['call'](this,mb);m5['call'](this,mc);this['bind']('instanceCreation',mN=>{var mO=mN['data']['instance'];var mP=mO['get']('class');if(mP=='PanoramaPlayer'||mP=='Model3DPlayer'){mO['bind']('preloadMediaShow',m3,this);mO['bind']('cameraPositionChange',m0,this);mO['bind']('userInteractionStart',m2,this);m6['call'](this,mO);}},this);mb['bind']('mouseDown',m7,this);mc['bind']('mouseDown',m7,this);lW['bind']('resize',function(){md['set']('left',(lW['get']('actualWidth')-md['get']('actualWidth'))*0.5);lX();},this);md['bind']('mouseDown',function(mQ){var mR=mQ['pageX'];var mS=function(mT){var mU=mT['pageX'];var mV=mR-mU;var mW=lW['get']('actualWidth');var mX=md['get']('left');var mY=(typeof mX=='string'?lY(mX):mX)-mV;if(mY<0x0){mU-=mY;mY=0x0;}else if(mY+md['get']('actualWidth')>=mW){mU-=mY-(mW-md['get']('actualWidth'));mY=mW-md['get']('actualWidth');}md['set']('left',mY);lX();mR=mU;};this['bind']('mouseMove',mS,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mS,this);},this);},this);lX();};TDV['Tour']['Script']['_initTwinsViewer']=function(mZ){function n0(){var no=mZ['get']('actualWidth');nd['get']('children')[0x0]['set']('width',no);ne['get']('children')[0x0]['set']('width',no);var np=nh['get']('left');var nq=typeof np=='string'?n1(np):np;nq+=nh['get']('actualWidth')*0.5;nd['set']('width',n2(nq));ne['set']('width',n2(no-nq));}function n1(nr){return parseFloat(nr['replace']('%',''))/0x64*mZ['get']('actualWidth');}function n2(ns){return ns/mZ['get']('actualWidth')*0x64+'%';}function n3(nt){n4(nt['source']);}function n4(nu){var nv=nu==nj?ni:nj;if(nk&&nu!=nk||!nu||!nv)return;var nw=nu['get']('class');var nx=nv['get']('class');if(nw=='PanoramaPlayer'&&nx=='PanoramaPlayer'){var ny=nv['get']('camera')['get']('initialPosition')['get']('yaw')-nu['get']('camera')['get']('initialPosition')['get']('yaw');nv['setPosition'](nu['get']('yaw')+ny,nu['get']('pitch'),nu['get']('roll'),nu['get']('hfov'));}else if(nw=='Model3DPlayer'&&nx=='Model3DPlayer'){var nz=nu['get']('model')['get']('camera');var nA=nv['get']('model')['get']('camera');var nB=['yaw','pitch','x','y','z','fov'];if(nz['get']('class')=='OrbitModel3DCamera'&&nA['get']('class')=='OrbitModel3DCamera')nB['push']('distance');nB['forEach'](nC=>{nA['set'](nC,nz['get'](nC));});}}function n5(nD){nk=nD['source'];}function n6(nE){nk=ni;}function n7(nF){na['call'](this,nF['source']);}function n8(nG){var nH=nG['get']('viewerArea');if(nH==nf){if(ni&&ni['get']('class')=='PanoramaPlayer'){ni['get']('camera')['set']('hoverFactor',nl);}ni=nG;nk=ni;if(ni&&ni['get']('class')=='PanoramaPlayer'){nl=ni['get']('camera')['get']('hoverFactor');ni['get']('camera')['set']('hoverFactor',0x0);}}else if(nH==ng){if(nj&&nj['get']('class')=='PanoramaPlayer'){nj['get']('camera')['set']('hoverFactor',nm);}nj=nG;nk=nj;if(nj&&nj['get']('class')=='PanoramaPlayer'){nm=nj['get']('camera')['get']('hoverFactor');nj['get']('camera')['set']('hoverFactor',0x0);}}n4(nG);}function n9(nI){var nJ=this['getCurrentPlayers']();var nK=nJ['length'];while(nK-->0x0){var nM=nJ[nK];if(nM['get']('viewerArea')!=nI){nJ['splice'](nK,0x1);}}for(nK=0x0;nK<nJ['length'];++nK){var nM=nJ[nK];nM['bind']('preloadMediaShow',n7,this);if(nM['get']('class')=='PanoramaPlayer'){nM['bind']('cameraPositionChange',n3,this);nM['bind']('userInteractionStart',n5,this);nM['bind']('userInteractionEnd',n6,this);}na['call'](this,nM);}return nJ;}function na(nN){var nO=nn['find'](nQ=>{return nQ['player']==nN;});if(nO){if(nO['media']['get']('class')=='Model3D'){nO['media']['get']('camera')['unbind']('positionSet',nO['updateFn'],this);nO['media']['get']('camera')['unbind']('userInteractionStart',nO['userInteractionStartFn'],this);}nn['splice'](nn['indexOf'](nO),0x1);}var nP=this['getMediaFromPlayer'](nN);if(!nP)return;nO={'media':nP,'player':nN,'updateFn':()=>{n4(nN);},'userInteractionStartFn'(){nk=nN;}};nn['push'](nO);if(nO['media']['get']('class')=='Model3D'){nO['media']['get']('camera')['bind']('positionSet',nO['updateFn'],this);nO['media']['get']('camera')['bind']('userInteractionStart',nO['userInteractionStartFn'],this);}n8(nN);}function nb(nR){n8(this['getActivePlayerWithViewer'](nR['source']));n4(nk);}var nc=mZ['get']('children');var nd=nc[0x0];var ne=nc[0x1];var nf=nd['get']('children')[0x0];var ng=ne['get']('children')[0x0];var nh=nc[0x2];var ni,nj,nk;var nl,nm;var nn=[];n9['call'](this,nf);n9['call'](this,ng);this['bind']('instanceCreation',nS=>{var nT=nS['data']['instance'];if(nT['get']('class')=='PanoramaPlayer'){var nU=nT;nU['bind']('preloadMediaShow',n7,this);if(nU['get']('class')=='PanoramaPlayer'){nU['bind']('cameraPositionChange',n3,this);nU['bind']('userInteractionStart',n5,this);}na['call'](this,nU);}},this);nf['bind']('mouseDown',nb,this);ng['bind']('mouseDown',nb,this);mZ['bind']('resize',function(){nh['set']('left',(mZ['get']('actualWidth')-nh['get']('actualWidth'))*0.5);n0();},this);n0();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nV=this['getByClassName']('PanoramaPlayer');return nV['length']>0x0&&nV[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nW){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nW['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nX,nY){var nZ='keepVisibility_'+nX['get']('id');var o0=this['getKey'](nZ);if(o0==undefined&&nY){this['registerKey'](nZ,nY);}else if(o0!=undefined&&!nY){this['unregisterKey'](nZ);}};TDV['Tour']['Script']['_initItemWithComps']=function(o1,o2,o3,o4,o5,o6,o7,o8){var o9=o1['get']('items')[o2];var oa=o9['get']('media');var ob=oa['get']('loop')==undefined||oa['get']('loop');var oc=o8>0x0;var od=this['rootPlayer'];var oe=function(om){var on=o6?o6['get']('class'):undefined;var oo=undefined;switch(on){case'FadeInEffect':case'FadeOutEffect':oo=od['createInstance'](om?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':oo=od['createInstance'](om?'SlideInEffect':'SlideOutEffect');break;}if(oo){oo['set']('duration',o6['get']('duration'));oo['set']('easing',o6['get']('easing'));if(on['indexOf']('Slide')!=-0x1)oo['set'](om?'from':'to',o6['get'](o6['get']('class')=='SlideInEffect'?'from':'to'));}return oo;};var of=function(){for(var op=0x0,oq=o3['length'];op<oq;++op){var or=o3[op];if(o8>0x0){this['setComponentVisibility'](or,!o5,0x0,oe(!o5));}else{var os='visibility_'+or['get']('id');if(this['existsKey'](os)){if(this['getKey'](os))this['setComponentVisibility'](or,!![],0x0,oe(!![]));else this['setComponentVisibility'](or,![],0x0,oe(![]));this['unregisterKey'](os);}}}o9['unbind']('end',of,this);if(!ob)oa['unbind']('end',of,this);};var og=function(){o9['unbind']('stop',og,this,!![]);o9['unbind']('stop',og,this);o9['unbind']('begin',og,this,!![]);o9['unbind']('begin',og,this);for(var ot=0x0,ou=o3['length'];ot<ou;++ot){this['keepCompVisible'](o3[ot],![]);}};var oh=function(ov,ow,ox){var oy=function(){var oz=function(oD,oE,oF){od['setComponentVisibility'](oD,oE,ow,oF,oE?'showEffect':'hideEffect',![]);if(ox>0x0){var oG=ow+ox+(oF!=undefined?oF['get']('duration'):0x0);od['setComponentVisibility'](oD,!oE,oG,oe(!oE),oE?'hideEffect':'showEffect',!![]);}};for(var oA=0x0,oB=o3['length'];oA<oB;++oA){var oC=o3[oA];if(o5=='toggle'){if(!oC['get']('visible'))oz(oC,!![],oe(!![]));else oz(oC,![],oe(![]));}else{oz(oC,o5,oe(o5));}}o9['unbind'](ov,oy,this);if(ov=='end'&&!ob)oa['unbind'](ov,oy,this);};o9['bind'](ov,oy,this);if(ov=='end'&&!ob)oa['bind'](ov,oy,this);};if(o4=='begin'){for(var oi=0x0,oj=o3['length'];oi<oj;++oi){var ok=o3[oi];this['keepCompVisible'](ok,!![]);if(oc){var ol='visibility_'+ok['get']('id');this['registerKey'](ol,ok['get']('visible'));}}o9['bind']('stop',og,this,!![]);o9['bind']('stop',og,this);o9['bind']('begin',og,this,!![]);o9['bind']('begin',og,this);if(oc){o9['bind']('end',of,this);if(!ob)oa['bind']('end',of,this);}}else if(o4=='end'&&o8>0x0){oh('begin',o8,0x0);o8=0x0;}if(o4!=undefined)oh(o4,o7,o8);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(oH,oI,oJ){var oK=oH['get']('selectedIndex');var oL=oH['get']('items')['length'];var oM=(oK+oI)%oL;while(oM<0x0){oM=oL+oM;}if(oK!=oM){if(oJ){var oN=oH['get']('items')[oM];this['skip3DTransitionOnce'](oN['get']('player'));}oH['set']('selectedIndex',oM);}};TDV['Tour']['Script']['mixObject']=function(oO,oP){return this['assignObjRecursively'](oP,this['copyObjRecursively'](oO));};TDV['Tour']['Script']['downloadFile']=function(oQ){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oR=document['createElement']('a');oR['href']=oQ;oR['setAttribute']('target','_blank');if(oR['download']!==undefined){var oS=oQ['substring'](oQ['lastIndexOf']('/')+0x1,oQ['length']);oR['download']=oS;}if(document['createEvent']){var oT=document['createEvent']('MouseEvents');oT['initEvent']('click',!![],!![]);oR['dispatchEvent'](oT);return;}}window['open'](oQ,'_blank');};TDV['Tour']['Script']['openLink']=function(oU,oV){if(!oU||oU==location['href']){return;}if(!oV)oV='_blank';if(oV=='_top'||oV=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oW=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oW&&oV=='_blank'){if(oU['startsWith']('files/')){oU='/'+oU;}if(oU['startsWith']('//')){oU='https:'+oU;}else if(oU['startsWith']('/')){var oX=window['location']['href']['split']('/');oX['pop']();oU=oX['join']('/')+oU;}var oY=oU['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oY)==-0x1||oU['startsWith']('file://'))&&window['hasOwnProperty']('require')){var oZ=window['require']('electron')['shell'];oZ['openExternal'](oU);}else{window['open'](oU,oV);}}else if(oW&&(oV=='_top'||oV=='_self')){window['location']=oU;}else{var p0=this['get']('data')['tour'];if(p0['isMobileApp']()&&p0['isIOS']())oU='blank:'+oU;var p1=window['open'](oU,oV);p1['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(p2,p3){var p4=p2['get']('media');var p5=_findLocationWithPanorama['call'](this,p4);if(!p5){p3['call'](this);return;}var p6=p5['get']('model');var p7=p2['get']('player')['get']('viewerArea');var p9=this['getActivePlayersWithViewer'](p7);var pb=p9['length']==0x1?p9['find'](function(pi){return this['getMediaFromPlayer'](pi)==p6;}['bind'](this)):undefined;if(pb){p3['call'](this);}else{var p9=_getPlayersWithViewer['call'](this,p7);var pb=p9['find'](function(pj){return pj['get']('class')=='Model3DPlayer';});var pc,pd;if(!pb){pb=this['createInstance']('Model3DPlayer');pb['set']('viewerArea',p7);}else{var pe=this['getByClassName']('Model3DPlayListItem');pc=pe['find'](function(pk){return pk['get']('player')==pb;}['bind'](this));}if(!pc){pc=this['createInstance']('Model3DPlayListItem');pc['set']('player',pb);_initModel3DItem['call'](this,pc);}pc['set']('media',p6);var pf=p5['get']('forceModelLoading');p5['set']('forceModelLoading',!![]);var pg=function(){pc['unbind']('begin',pg,this);p3['call'](this);};var ph=function(){p2['unbind']('begin',ph,this);p5['set']('forceModelLoading',pf);if(pd)this['disposeInstance'](pd);};p2['bind']('begin',ph,this);if(pc['get']('state')=='playing')pg['call'](this);else{pc['bind']('begin',pg,this);pd=this['createInstance']('PlayList');pd['set']('items',[pc]);pd['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(pl){var pm=this['getCurrentPlayers']();var pn=pm['length'];while(pn-->0x0){var po=pm[pn];if(po['get']('state')=='playing'||po['get']('data')&&po['get']('data')['playing']||po['get']('viewerArea')&&po['get']('viewerArea')['get']('id')==this['getMainViewer']()||po['get']('camera')&&po['get']('camera')['get']('idleSequence')&&po['get']('camera')['get']('timeToIdle')>0x0&&po['get']('state')=='playing'||po['get']('class')=='Model3DPlayer'&&po['get']('model')&&po['get']('model')['get']('camera')['get']('state')=='playing'){var pp=this['getMediaFromPlayer'](po);if(pl&&pp&&pp['get']('class')!='Video360'&&'pauseCamera'in po){po['pauseCamera']();}else{po['pause']();}}else{pm['splice'](pn,0x1);}}return pm;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(pq,pr,ps){var pt=function(){if(pq['get']('selectedIndex')!=pr){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](ps,!![]);this['executeFunctionWhenChange'](pq,pr,pt,pt);};TDV['Tour']['Script']['pauseGlobalAudios']=function(pu,pv){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var pw=this['getByClassName']('VideoPanoramaOverlay');pw=pw['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var py=pw['length']-0x1;py>=0x0;--py){var pz=pw[py];if(pz['get']('video')['get']('hasAudio')==![])pw['splice'](py,0x1);}var pA=this['getByClassName']('Audio')['concat'](pw);var pB={};if(window['currentGlobalAudios']!=undefined)pA=pA['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(pF){if(!pF['allowResume'])pB[pF['audio']['get']('id')]=pF['audio'];return pF['audio'];}));var pC=[];for(var py=0x0,pD=pA['length'];py<pD;++py){var pE=pA[py];if(pE&&pE['get']('state')=='playing'&&(pu==undefined||pu['indexOf'](pE)==-0x1)){if(pE['get']('id')in pB){pE['stop']();}else{pE['pause']();pC['push'](pE);}}}if(pv||pC['length']>0x0)window['pausedAudiosLIFO']['push'](pC);return pC;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var pG=window['pausedAudiosLIFO']['pop']();if(!pG)return;for(var pH=0x0,pI=pG['length'];pH<pI;++pH){var pJ=pG[pH];if(pJ['get']('state')=='paused')pJ['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(pK){var pL=window['currentGlobalAudios'];if(pL){var pM=pL[pK['get']('id')];if(pM)pK=pM['audio'];}if(pK['get']('state')=='playing')pK['pause']();};TDV['Tour']['Script']['playAudioList']=function(pN,pO){if(pN['length']==0x0)return;if(pN['length']==0x1&&pO){var pP=pN[0x0];pP['set']('loop',!![]);this['playGlobalAudio'](pP,!![],null,!![]);}else{var pQ=-0x1;var pR;var pS=this['playGlobalAudio'];var pT=function(){if(++pQ>=pN['length']){if(!pO)return;pQ=0x0;}pR=pN[pQ];pS(pR,!![],pT,!![]);};pT();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pU,pV,pW,pX){var pY=this['getActiveMediaWithViewer'](this['getMainViewer']());var pZ=this['getFirstPlayListWithMedia'](pY,!![]);var q0=this['getPlayListItemByMedia'](pZ,pY);var q1=pZ['get']('items')['indexOf'](q0);return this['playGlobalAudioWhilePlay'](pZ,q1,pU,pV,pW,pX);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(q2,q3,q4,q5,q6,q7){var q8=function(qh){if(qh['data']['previousSelectedIndex']==q3){this['stopGlobalAudio'](q4);if(qc){var qi=qb['get']('media');var qj=qi['get']('audios');qj['splice'](qj['indexOf'](q4),0x1);qi['set']('audios',qj);}q2['unbind']('change',q8,this);if(q6)q6();}};var qa=window['currentGlobalAudios'];if(qa&&q4['get']('id')in qa){q4=qa[q4['get']('id')]['audio'];if(q4['get']('state')!='playing'){q4['play']();}return q4;}q2['bind']('change',q8,this);var qb=q2['get']('items')[q3];var qc=qb['get']('class')=='PanoramaPlayListItem';if(qc){var qd=qb['get']('media');var qa=(qd['get']('audios')||[])['slice']();if(q4['get']('class')=='MediaAudio'){var qe=this['rootPlayer']['createInstance']('PanoramaAudio');qe['set']('autoplay',![]);qe['set']('audio',q4['get']('audio'));qe['set']('loop',q4['get']('loop'));qe['set']('id',q4['get']('id'));this['cloneBindings'](q4,qe,'start');this['cloneBindings'](q4,qe,'end');this['cloneBindings'](q4,qe,'stateChange');q4=qe;}qa['push'](q4);qd['set']('audios',qa);}var qf=this['playGlobalAudio'](q4,q5,function(){q2['unbind']('change',q8,this);if(q6)q6['call'](this);});if(q7===!![]){var qg=function(){if(qf['get']('state')=='playing'){this['pauseGlobalAudios']([qf],!![]);}else if(qf['get']('state')=='stopped'){this['resumeGlobalAudios']();qf['unbind']('stateChange',qg,this);}};qf['bind']('stateChange',qg,this);}return qf;};TDV['Tour']['Script']['playGlobalAudio']=function(qk,ql,qm,qn){var qo=function(){qk['unbind']('end',qo,this);this['stopGlobalAudio'](qk);if(qm)qm['call'](this);};qk=this['getGlobalAudio'](qk);var qp=window['currentGlobalAudios'];if(!qp){qp=window['currentGlobalAudios']={};}qp[qk['get']('id')]={'audio':qk,'asBackground':qn||![],'allowResume':ql};if(qk['get']('state')=='playing'){return qk;}if(!qk['get']('loop')){qk['bind']('end',qo,this);}qk['play']();return qk;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(qq){var qr=-0x1;this['bind']('userInteraction',qs['bind'](this),this);qs();function qs(){if(qr!=-0x1)clearTimeout(qr);qr=setTimeout(function(){var qt=this['get']('data')['tour'];if(qt){if(this['isCardboardViewMode']())location['reload']();else qt['reload']();}}['bind'](this),qq*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(qu,qv){for(var qw=0x0;qw<qu['length'];++qw){var qx=qu[qw];var qy=this['getMediaFromPlayer'](qx);if(!qy)continue;if(qv&&qy['get']('class')!='Video360'&&'pauseCamera'in qx){qx['resumeCamera']();}else if(qx['get']('state')!='playing'){var qz=qx['get']('data');if(!qz){qz={};qx['set']('data',qz);}qz['playing']=!![];var qA=function(){if(qx['get']('state')=='playing'){delete qz['playing'];qx['unbind']('stateChange',qA,this);}};qx['bind']('stateChange',qA,this);qx['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(qB){var qC=window['currentGlobalAudios'];var qD=this;if(qC){Object['keys'](qC)['forEach'](function(qE){var qF=qC[qE];if(!qB||qB&&!qF['asBackground']){qD['stopGlobalAudio'](qF['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(qG){var qH=window['currentGlobalAudios'];if(qH){var qI=qH[qG['get']('id')];if(qI){qG=qI['audio'];delete qH[qG['get']('id')];if(Object['keys'](qH)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(qG)qG['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(qJ,qK){var qL=this['getCurrentPlayerWithMedia'](qK);if(qL!=undefined){var qM=qJ['get']('initialPosition');qM['set']('yaw',qL['get']('yaw'));qM['set']('pitch',qL['get']('pitch'));qM['set']('hfov',qL['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qN,qO,qP,qQ,qR,qS){var qT=this['getKey']('keepVisibility_'+qN['get']('id'));if(qT)return;this['unregisterKey']('visibility_'+qN['get']('id'));var qU=function(){if(qR){qN['set'](qR,qQ);}qN['set']('visible',qO);if(qN['get']('class')=='ViewerArea'){try{if(qO)qN['restart']();else if(qN['get']('playbackState')=='playing')qN['pause']();}catch(qZ){};}};var qV='effectTimeout_'+qN['get']('id');if(!qS&&window['hasOwnProperty'](qV)){var qX=window[qV];if(qX instanceof Array){for(var qY=0x0;qY<qX['length'];qY++){clearTimeout(qX[qY]);}}else{clearTimeout(qX);}delete window[qV];}else if(qO==qN['get']('visible')&&!qS)return;if(qP&&qP>0x0){var qX=setTimeout(function(){if(window[qV]instanceof Array){var r0=window[qV];var r1=r0['indexOf'](qX);r0['splice'](r1,0x1);if(r0['length']==0x0){delete window[qV];}}else{delete window[qV];}qU();},qP);if(window['hasOwnProperty'](qV)){window[qV]=[window[qV],qX];}else{window[qV]=qX;}}else{qU();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(r2,r3,r4,r5){r2['set']('yaw',r3);r2['set']('pitch',r4);r2['set']('maximumAngle',r5);};TDV['Tour']['Script']['setLocale']=function(r6){this['stopTextToSpeech']();var r7=this['get']('data')['localeManager'];if(r7)this['get']('data')['localeManager']['setLocale'](r6);else{this['get']('data')['defaultLocale']=r6;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(r8,r9,ra){var rb=function(){if(r8['get']('selectedIndex')==r9){var rc=r8['get']('items')[ra];this['skip3DTransitionOnce'](rc['get']('player'));r8['set']('selectedIndex',ra);}};this['executeFunctionWhenChange'](r8,r9,rb);};TDV['Tour']['Script']['setMapLocation']=function(rd,re){var rf=function(){rd['unbind']('stop',rf,this);rg['set']('mapPlayer',null);};rd['bind']('stop',rf,this);var rg=rd['get']('player');rg['set']('mapPlayer',re);};TDV['Tour']['Script']['setMainMediaByIndex']=function(rh){var ri=undefined;if(rh>=0x0&&rh<this['mainPlayList']['get']('items')['length']){ri=this['mainPlayList']['get']('items')[rh];var rj=ri['get']('media');var rk=rj['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,rj):null;if(rk){this['startPanoramaWithModel']['call'](this,ri,function(){this['mainPlayList']['set']('selectedIndex',rh);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',rh);}}return ri;};TDV['Tour']['Script']['setMainMediaByName']=function(rl){var rm=this['getMainViewer']();var rn=this['_getPlayListsWithViewer'](rm);for(var ro=0x0,rp=rn['length'];ro<rp;++ro){var rq=rn[ro];var rr=rq['get']('items');for(var rs=0x0,rt=rr['length'];rs<rt;++rs){var ru=rr[rs];var rv=ru['get']('media')['get']('data');if(rv!==undefined&&rv['label']==rl&&ru['get']('player')['get']('viewerArea')==rm){rq['set']('selectedIndex',rs);return ru;}}}};TDV['Tour']['Script']['executeAudioAction']=function(rw,rx,ry,rz,rA,rB){if(rw['length']==0x0)return;var rC,rD;var rE=this['getMainViewer']();if(ry&&!(ry===!![])){var rF=this['getPlayListsWithMedia'](ry);for(var rG=0x0;rG<rF['length'];++rG){var rH=rF[rG];var rJ=this['getPlayListItemByMedia'](rH,ry);if(rJ&&rJ['get']('player')&&rJ['get']('player')['get']('viewerArea')==rE){rC=rH;rD=rC['get']('items')['indexOf'](rJ);break;}}if(!rC&&rF['length']>0x0){rC=rF[0x0];rD=this['getPlayListItemIndexByMedia'](rC,ry);}if(!rC)ry=!![];}if(ry===!![]){var rK=this['getActiveMediaWithViewer'](rE);if(rK){rC=this['getFirstPlayListWithMedia'](rK,!![]);var rJ=this['getPlayListItemByMedia'](rC,rK);rD=rC['get']('items')['indexOf'](rJ);}else{ry=null;}}var rL=[];var rM=function(){var rU=rL['concat']();var rV=![];var rW=function(rZ){var s0=rZ['source']['get']('state');if(s0=='playing'){if(!rV){rV=!![];this['pauseGlobalAudios'](rL,!![]);}}else if(s0=='stopped'){rU['splice'](rU['indexOf'](rZ['source']),0x1);if(rU['length']==0x0){this['resumeGlobalAudios']();}rZ['source']['unbind']('stateChange',rW,this);}}['bind'](this);for(var rX=0x0,rY=rL['length'];rX<rY;++rX){rL[rX]['bind']('stateChange',rW,this);}}['bind'](this);var rN=function(){for(var s1=0x0,s2=rw['length'];s1<s2;++s1){var s3=rw[s1];rL['push'](this['playGlobalAudio'](s3,rz));}if(rA)rM();}['bind'](this);var rO=function(){for(var s4=0x0,s5=rw['length'];s4<s5;++s4){var s6=rw[s4];rL['push'](this['playGlobalAudioWhilePlay'](rC,rD,s6,rz));}if(rA)rM();}['bind'](this);var rP=function(){for(var s7=0x0,s8=rw['length'];s7<s8;++s7){this['pauseGlobalAudio'](rw[s7]);}}['bind'](this);var rQ=function(){for(var s9=0x0,sa=rw['length'];s9<sa;++s9){this['stopGlobalAudio'](rw[s9]);}}['bind'](this);var rR=function(){for(var sb=0x0,sc=rw['length'];sb<sc;++sb){if(this['getGlobalAudio'](rw[sb])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(rx=='playPause'||rx=='playStop'){if(rR()){if(rx=='playPause'){rP();}else if(rx=='playStop'){rQ();}}else{if(rA){if(rx=='playStop'){this['stopGlobalAudios'](!![]);}}if(rC){rO();}else{rN();}}}else if(rx=='play'||rx=='forcePlay'){if(rx=='forcePlay')rQ();if(rC||ry===!![]){if(rB){var rS=rC?rC['get']('items')[rD]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rS&&rS['pauseCamera']){var rT=rw['concat']();endCallback=function(sd){rT['splice'](rT['indexOf'](sd),0x1);if(rT['length']==0x0)rS['resumeCamera']();}['bind'](this);rS['pauseCamera']();}}rO();}else{rN();}}else if(rx=='stop'){rQ();}else if(rx=='pause'){rP();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(se,sf,sg,sh,si,sj,sk){var sl=this['getAudioByTags'](se,sf);this['executeAudioAction'](sl,sg,sh,si,sj,sk);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(sm,sn){var so=sm['get']('items')[sn];var sp=so['get']('player');var sq=sp['get']('viewerArea');var sr=this['getByClassName']('PlayList');for(var ss of sr){if(ss==sm)continue;var st=ss['get']('selectedIndex');if(st!=-0x1){var su=ss['get']('items')[st];var sv=su['get']('player');if(sv&&sv!=sp&&sv['get']('class')!='Model3DPlayer'&&sv['get']('viewerArea')==sq)ss['set']('selectedIndex',-0x1);}}sm['set']('selectedIndex',sn);};TDV['Tour']['Script']['setMediaBehaviour']=function(sw,sx,sy,sz){var sA=this;var sB=function(sY){if(sY['data']['state']=='stopped'&&sz){sF['call'](this,!![]);}};var sC=function(){sL['unbind']('begin',sC,sA);var sZ=sL['get']('media');var t0=sZ['get']('class');if(t0!='Panorama'&&t0!='Model3D'||sZ['get']('camera')!=undefined&&sZ['get']('camera')['get']('initialSequence')!=undefined){sM['bind']('stateChange',sB,sA);}};var sD=function(){var t1=sI['get']('selectedIndex');if(t1!=-0x1){sK=t1;sF['call'](this,![]);}};var sE=function(){sF['call'](this,![]);};var sF=function(t2){if(!sI)return;var t3=sL['get']('media');if((t3['get']('class')=='Video360'||t3['get']('class')=='Video')&&t3['get']('loop')==!![]&&!t2)return;sw['set']('selectedIndex',-0x1);if(sT&&sS!=-0x1){if(sT){if(sS>0x0&&sT['get']('movements')[sS-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var t4=sU['get']('initialPosition');var t5=t4['get']('yaw');var t6=t4['get']('pitch');var t7=t4['get']('hfov');var t8=sT['get']('movements')[sS-0x1];var t9=t8['get']('targetYaw');var ta=t8['get']('targetPitch');var tb=t8['get']('targetHfov');if(t9!==undefined)t4['set']('yaw',t9);if(ta!==undefined)t4['set']('pitch',ta);if(tb!==undefined)t4['set']('hfov',tb);var tc=function(tf){t4['set']('yaw',t5);t4['set']('pitch',t6);t4['set']('hfov',t7);sO['unbind']('end',tc,this);};sO['bind']('end',tc,this);}sT['set']('movementIndex',sS);}}if(sM){sL['unbind']('begin',sC,this);sM['unbind']('stateChange',sB,this);for(var td=0x0;td<sV['length'];++td){sV[td]['unbind']('click',sE,this);}}if(sR){var te=this['getMediaFromPlayer'](sM);if((sI==this['mainPlayList']||sI['get']('items')['length']>0x1)&&(te==undefined||te==sL['get']('media'))){sI['set']('selectedIndex',sK);}if(sw!=sI)sI['unbind']('change',sD,this);}else{sP['set']('visible',sQ);}sI=undefined;};if(!sy){var sG=sw['get']('selectedIndex');var sH=sG!=-0x1?sw['get']('items')[sw['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(sH){sy=this['getMediaFromPlayer'](sH);}}var sI=undefined;if(sy){var sJ=this['getPlayListsWithMedia'](sy,!![]);if(sJ['indexOf'](sw)!=-0x1){sI=sw;}else if(sJ['indexOf'](this['mainPlayList'])!=-0x1){sI=this['mainPlayList'];}else if(sJ['length']>0x0){sI=sJ[0x0];}}if(!sI){sw['set']('selectedIndex',sx);return;}var sK=sI['get']('selectedIndex');var sL=sw['get']('items')[sx];var sM=sL['get']('player');var sN=this['getMediaFromPlayer'](sM);if(sw['get']('selectedIndex')==sx&&sN==sL['get']('media')||sK==-0x1){return;}if(sw['get']('selectedIndex')==sx&&sN!=sL['get']('media'))sw['set']('selectedIndex',-0x1);var sO=sI['get']('items')[sK];var sP=sM['get']('viewerArea');var sQ=sP['get']('visible');var sR=sP==sO['get']('player')['get']('viewerArea');if(sR){if(sw!=sI){sI['set']('selectedIndex',-0x1);sI['bind']('change',sD,this);}}else{sP['set']('visible',!![]);}var sS=-0x1;var sT=undefined;var sU=sO['get']('camera');if(sU){sT=sU['get']('initialSequence');if(sT){sS=sT['get']('movementIndex');}}sw['set']('selectedIndex',sx);var sV=[];var sW=function(tg){var th=sM['get'](tg);if(th==undefined)return;if(Array['isArray'](th))sV=sV['concat'](th);else sV['push'](th);};sW('buttonStop');for(var sX=0x0;sX<sV['length'];++sX){sV[sX]['bind']('click',sE,this);}sL['bind']('begin',sC,sA);this['executeFunctionWhenChange'](sw,sx,sz?sE:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(ti,tj,tk,tl){var tm=function(){switch(tk){case'triggerClick':this['triggerOverlay'](ti,'click');break;case'stop':case'play':case'pause':ti[tk]();break;case'togglePlayPause':case'togglePlayStop':if(ti['get']('state')=='playing')ti[tk=='togglePlayPause'?'pause':'stop']();else ti['play']();break;}if(tl){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var tr=ti['get']('id');window['overlaysDispatched'][tr]=!![];setTimeout(function(){delete window['overlaysDispatched'][tr];},0x3e8);}};if(tl&&window['overlaysDispatched']!=undefined&&ti['get']('id')in window['overlaysDispatched'])return;var tn=this['getFirstPlayListWithMedia'](tj,!![]);if(tn!=undefined){var to=this['getPlayListItemByMedia'](tn,tj);var tp=to['get']('player');if(tn['get']('items')['indexOf'](to)!=tn['get']('selectedIndex')||this['isPanorama'](to['get']('media'))&&tp['get']('rendererPanorama')!=to['get']('media')){var tq=function(ts){to['unbind']('begin',tq,this);tm['call'](this);};to['bind']('begin',tq,this);return;}}tm['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(tt,tu,tv){var tw='overlayEffects';var tx=undefined;var ty=this['getKey'](tw);if(!ty){ty={};this['registerKey'](tw,ty);}for(var tz=0x0,tA=tt['length'];tz<tA;++tz){var tB=tt[tz];if(!tB)continue;if(tv&&tv>0x0){ty[tB['get']('id')]=setTimeout(tC['bind'](this,tB),tv);}else{tC['call'](this,tB);}}function tC(tD){var tE=tD['get']('id');var tF=ty[tE];if(tF){clearTimeout(tF);delete tF[tE];}var tG=tD['get']('class')=='PanoramaModel3DLocation'?tD['get']('data')['object']:tD;if(!tG)return;var tH=tu=='toggle'?!tG['get']('enabled'):tu;tG['set']('enabled',tH);if(tD['get']('class')=='PanoramaModel3DLocation')tD['get']('data')['enabled']=tH;var tJ=tD['get']('data');if(tH&&tJ&&'group'in tJ){var tK=this['getOverlaysByGroupname'](tJ['group']);for(var tL=0x0,tM=tK['length'];tL<tM;++tL){var tO=tK[tL];if(tO!=tD)tO['set']('enabled',!tH);}}if(!tx)tx=this['getByClassName']('AdjacentPanorama');for(var tP=0x0,tQ=tx['length'];tP<tQ;++tP){var tR=tx[tP];var tJ=tR['get']('data');if(!tJ)continue;var tO=this[tJ['overlayID']];if(tO&&tO==tD){tR['set']('enabled',tO['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tS,tT,tU,tV,tW){var tX=tU?this['getPanoramaOverlaysByTags'](tU,tS,tV):this['getOverlaysByTags'](tS,tV);this['setOverlaysVisibility'](tX,tT,tW);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tY,tZ,u0,u1,u2){var u3=this['getComponentsByTags'](tY,u2);for(var u4=0x0,u5=u3['length'];u4<u5;++u4){var u6=u3[u4];if(tZ=='toggle')u6['get']('visible')?u1(u6):u0(u6);else tZ?u0(u6):u1(u6);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(u7,u8,u9,ua,ub){var uc=u7['get']('selectedIndex');var ud=u7['get']('items');var ue=u8['get']('media');var uf=ue['get']('camera');if(uc>=0x0&&ud[uc]==u8&&ue['get']('isLoaded')){uf['set']('yaw',uf['get']('yaw')%0x168);var ug=u8['get']('player')['get']('viewerArea');var uh=this['getActiveMediaWithViewer'](ug);if(uh['get']('class')['indexOf']('Panorama')!=-0x1){if(ua!==undefined){ua*=0x3e8;var ui=ug['get']('modelToPanoramaTraslationDuration');var uj=ug['get']('panoramaToModelTraslationDuration');var uk=()=>{clearTimeout(ul);u7['unbind']('change',uk,this);ug['set']('modelToPanoramaTraslationDuration',ui);ug['set']('panoramaToModelTraslationDuration',uj);};var ul=setTimeout(uk,ua);u7['bind']('change',uk,this);ug['set']('modelToPanoramaTraslationDuration',ua);ug['set']('panoramaToModelTraslationDuration',ua);}uf['setStoredPosition'](u9);}else{if(uf['get']('state')=='playing')uf['stop']();this['createTween'](uf,u9,ua,ub)['play']();}}else{if(uf['get']('state')=='playing')uf['stop']();this['startModel3DWithCameraSpot'](u8,u9);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(um,un,uo){var up=um['get']('selectedIndex');var uq=um['get']('items');var ur=un['get']('media');if(uq[up]==un&&ur['get']('isLoaded')){uo['play']();}else{var us=uo['get']('movements');var ut={};if(us['length']>0x0){var uu=us[0x0];if(uu['get']('class')=='TargetModel3DCameraMovement'){var uv=['x','y','z','yaw','pitch','fov','distance'];for(var uw in uv){uw=uv[uw];var ux=uu['get']('target'+uw['charAt'](0x0)['toUpperCase']()+uw['slice'](0x1));if(ux!==undefined){ut[uw]=ux;}}}}this['startModel3DWithCameraSpot'](un,ut);var uy=function(){un['unbind']('begin',uy,this);uo['play']();};un['bind']('begin',uy,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(uz,uA){var uB=this['getActiveMediaWithViewer'](uA||this['getMainViewer']());if(uB!=undefined&&(uB['get']('class')['indexOf']('Panorama')!=-0x1||uB['get']('class')=='Video360')){var uC=uz['get']('media');var uD=this['clonePanoramaCamera'](uz['get']('camera'));this['setCameraSameSpotAsMedia'](uD,uB);this['startPanoramaWithCamera'](uC,uD);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(uE,uF,uG,uH,uI){var uJ=uF['get']('media');var uK=uF['get']('player');if(uE['get']('items')[uE['get']('selectedIndex')]==uF||uK['get']('rendererPanorama')==uJ){if(uG===undefined)uG=uK['get']('yaw');if(uH===undefined)uH=uK['get']('pitch');if(uI===undefined)uI=uK['get']('hfov');uK['moveTo'](uG,uH,uK['get']('roll'),uI);}else{var uL=this['clonePanoramaCamera'](uF['get']('camera'));var uM=uL['get']('initialPosition');if(uG!==undefined)uM['set']('yaw',uG);if(uH!==undefined)uM['set']('pitch',uH);if(uI!==undefined)uM['set']('hfov',uI);this['startPanoramaWithCamera'](uJ,uL);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(uN){var uO=this['getByClassName']('HotspotPanoramaOverlay');var uP=this['getByClassName']('PanoramaPlayer');var uQ=uN=='hotspotEnabled';var uR=uN=='circleEnabled';var uS=!!uN;uO['forEach'](function(uT){var uU=uT['get']('data');if(uU&&uU['hasPanoramaAction']==!![])uT['set']('enabledInSurfaceSelection',uQ);});uP['forEach'](function(uV){uV['set']('adjacentPanoramaPositionsEnabled',uR);uV['set']('surfaceSelectionEnabled',uS);});this['get']('data')['surfaceSelectionHotspotMode']=uN;};TDV['Tour']['Script']['setValue']=function(uW,uX,uY){try{if('set'in uW)uW['set'](uX,uY);else uW[uX]=uY;}catch(uZ){}};TDV['Tour']['Script']['setStartTimeVideo']=function(v0,v1){var v2=this['getPlayListItems'](v0);var v3=[];var v4=function(){for(var v8=0x0;v8<v2['length'];++v8){var v9=v2[v8];v9['set']('startTime',v3[v8]);v9['unbind']('stop',v4,this);}};for(var v5=0x0;v5<v2['length'];++v5){var v6=v2[v5];var v7=v6['get']('player');if(!v7)continue;if(v7['get']('video')==v0&&v7['get']('state')=='playing'){v7['seek'](v1);}else{v3['push'](v6['get']('startTime'));v6['set']('startTime',v1);v6['bind']('stop',v4,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(va,vb){if(va&&vb)this['setStartTimeVideo'](va,vb['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(vc){if(vc&&vc['get']('class')=='PanoramaPlayer'){var vd=vc['get']('viewerArea');if(vd&&vd['get']('translationTransitionEnabled')==!![]){var ve=function(){vc['unbind']('preloadMediaShow',ve,this);vd['set']('translationTransitionEnabled',!![]);};vd['set']('translationTransitionEnabled',![]);vc['bind']('preloadMediaShow',ve,this);}}};TDV['Tour']['Script']['shareSocial']=function(vf,vg,vh,vi,vj){if(vg==undefined){vg=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(vh){vg+=this['updateDeepLink'](vi,![]);}vg=function(vl){switch(vl){case'email':return'mailto:?body='+encodeURIComponent(vg);case'facebook':var vm=vg['indexOf']('?')!=-0x1;vg=vg['replace']('#','?');if(vm){var vn=vg['lastIndexOf']('?');vg=vg['substring'](0x0,vn)+'&'+vg['substring'](vn+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(vg);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(vg);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+vg;case'telegram':return'https://t.me/share/url?url='+vg;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+vg;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(vg);default:return vg;}}(vf);if(vj){for(var vk in vj){vg+='&'+vk+'='+vj[vk];}}if(vf=='clipboard')this['copyToClipboard'](vg);else this['openLink'](vg,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(vo,vp,vq,vr){var vs=function(vw){for(var vx=0x0,vy=vp['length'];vx<vy;vx++){var vz=vp[vx];if(!vr||vr(vz,vw))vz['set']('visible',vw);}};if(this['get']('isMobile')||this['get']('touchDevice')){vs['call'](this,!![]);}else{var vt=-0x1;var vu=function(){vs['call'](this,!![]);if(vt>=0x0)clearTimeout(vt);vo['bind']('rollOut',vv,this);};var vv=function(){var vA=function(){vs['call'](this,![]);};vo['unbind']('rollOut',vv,this);vt=setTimeout(vA['bind'](this),vq);};vo['bind']('rollOver',vu,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(vB,vC,vD,vE){var vF=this['_getObjectsByTags'](vC,['InnerModel3DObject'],'tags2Objects',vD)['filter'](function(vG){return vB['get']('objects')['indexOf'](vG)!=-0x1;}['bind'](this));this['setObjectsVisibility'](vF,vE);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(vH,vI,vJ){var vK=vI['map'](function(vL){return this['getModel3DInnerObject'](vH,vL);}['bind'](this));this['setObjectsVisibility'](vK,vJ);};TDV['Tour']['Script']['setObjectsVisibility']=function(vM,vN){vM['forEach'](function(vO){if(vO)vO['set']('enabled',vN==='toggle'?!vO['get']('enabled'):vN);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(vP,vQ){var vR=vP['get']('objects');for(var vS=0x0,vT=vR['length'];vS<vT;++vS){var vU=vR[vS];if(vU['get']('class')=='InnerModel3DObject'&&vU['get']('objectId')==vQ)return vU;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vV,vW,vX,vY,vZ,w0){var w1=this;var w2=function(){window['resumeAudiosBlocked']=![];vX['set']('selectedIndex',-0x1);w1['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](w7,!![]);if(w6){this['unbind']('resize',w4,this);}vV['unbind']('close',w2,this);};var w3=function(){vV['hide']();};var w4=function(){var w8=function(wp){return vV['get'](wp)||0x0;};var w9=w1['get']('actualWidth');var wa=w1['get']('actualHeight');var wb=w1['getMediaWidth'](vW);var wc=w1['getMediaHeight'](vW);var wd=parseFloat(vY)/0x64;var we=parseFloat(vZ)/0x64;var wf=wd*w9;var wg=we*wa;var wh=w8('footerHeight');var wi=w8('headerHeight');if(!wi){var wj=w8('closeButtonIconHeight')+w8('closeButtonPaddingTop')+w8('closeButtonPaddingBottom');var wk=w1['getPixels'](w8('titleFontSize'))+w8('titlePaddingTop')+w8('titlePaddingBottom');wi=wj>wk?wj:wk;wi+=w8('headerPaddingTop')+w8('headerPaddingBottom');}var wl=wf-w8('bodyPaddingLeft')-w8('bodyPaddingRight')-w8('paddingLeft')-w8('paddingRight');var wm=wg-wi-wh-w8('bodyPaddingTop')-w8('bodyPaddingBottom')-w8('paddingTop')-w8('paddingBottom');var wn=wl/wm;var wo=wb/wc;if(wn>wo){wf=wm*wo+w8('bodyPaddingLeft')+w8('bodyPaddingRight')+w8('paddingLeft')+w8('paddingRight');}else{wg=wl/wo+wi+wh+w8('bodyPaddingTop')+w8('bodyPaddingBottom')+w8('paddingTop')+w8('paddingBottom');}if(wf>w9*wd){wf=w9*wd;}if(wg>wa*we){wg=wa*we;}vV['set']('width',wf);vV['set']('height',wg);vV['set']('x',(w9-w8('actualWidth'))*0.5);vV['set']('y',(wa-w8('actualHeight'))*0.5);};if(w0){this['executeFunctionWhenChange'](vX,0x0,w3);}var w5=vW['get']('class');var w6=w5=='Video'||w5=='Video360';vX['set']('selectedIndex',0x0);if(w6){this['bind']('resize',w4,this);w4();vX['get']('items')[0x0]['get']('player')['play']();}else{vV['set']('width',vY);vV['set']('height',vZ);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var w7=this['pauseCurrentPlayers'](!![]);vV['bind']('close',w2,this);vV['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(wq,wr,ws,wt,wu,wv,ww,wx,wy,wz,wA,wB){var wC=![];var wD=function(){wV['unbind']('loaded',wG,this);wK['call'](this);};var wE=function(){wV['unbind']('click',wE,this);if(wZ!=undefined){clearTimeout(wZ);}};var wF=function(){setTimeout(wP,0x0);};var wG=function(){this['unbind']('click',wD,this);wU['set']('visible',!![]);wP();wW['set']('visible',!![]);wV['unbind']('loaded',wG,this);wV['bind']('resize',wF,this);wZ=setTimeout(wH['bind'](this),0xc8);};var wH=function(){wZ=undefined;if(wx){wV['bind']('click',wE,this);wJ['call'](this);}wV['bind']('userInteractionStart',wQ,this);wV['bind']('userInteractionEnd',wR,this);wV['bind']('backgroundClick',wK,this);if(wr){wV['bind']('click',wN,this);wV['set']('imageCursor','hand');}wW['bind']('click',wK,this);if(wA)wA['call'](this);};var wI=function(){if(wx&&wZ){clearTimeout(wZ);wZ=undefined;}};var wJ=function(){if(wx){wI();wZ=setTimeout(wK['bind'](this),wx);}};var wK=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);wC=!![];if(wZ)clearTimeout(wZ);if(x0)clearTimeout(x0);if(wx)wE();if(wv&&wv['get']('duration')>0x0){wv['bind']('end',wM,this);}else{setTimeout(()=>{wL['call'](this);},0x0);}wV['set']('visible',![]);wW['set']('visible',![]);wU['set']('visible',![]);this['unbind']('click',wD,this);wV['unbind']('backgroundClick',wK,this);wV['unbind']('userInteractionStart',wQ,this);wV['unbind']('userInteractionEnd',wR,this,!![]);wV['unbind']('resize',wF,this);if(wr){wV['unbind']('click',wN,this);wV['set']('cursor','default');}wW['unbind']('click',wK,this);this['resumePlayers'](wY,wy==null||wz);if(wz){this['resumeGlobalAudios']();}if(wy){this['stopGlobalAudio'](wy);}};var wL=function(){wV['set']('image',null);if(wB)wB['call'](this);};var wM=function(){wv['unbind']('end',wM,this);wL['call'](this);};var wN=function(){wV['set']('image',wO()?wq:wr);};var wO=function(){return wV['get']('image')==wr;};var wP=function(){var x1=wV['get']('actualWidth')-wV['get']('imageLeft')-wV['get']('imageWidth')+0xa;var x2=wV['get']('imageTop')+0xa;if(x1<0xa)x1=0xa;if(x2<0xa)x2=0xa;wW['set']('right',x1);wW['set']('top',x2);};var wQ=function(){wI();if(x0){clearTimeout(x0);x0=undefined;}else{wW['set']('visible',![]);}};var wR=function(){wJ['call'](this);if(!wC){x0=setTimeout(wS,0x12c);}};var wS=function(){x0=undefined;wW['set']('visible',!![]);wP();};var wT=function(x3){var x4=x3['get']('data');if(x4&&'extraLevels'in x4){var x5=this['rootPlayer']['createInstance'](x3['get']('class'));var x6=x4['extraLevels'];for(var x7=0x0;x7<x6['length'];x7++){var x8=x6[x7];if(typeof x8=='string')x6[x7]=this[x8['replace']('this.','')];}x5['set']('levels',x3['get']('levels')['concat'](x6));x3=x5;}return x3;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wU=this['veilPopupPanorama'];var wV=this['zoomImagePopupPanorama'];var wW=this['closeButtonPopupPanorama'];if(ww){for(var wX in ww){wW['set'](wX,ww[wX]);}}var wY=this['pauseCurrentPlayers'](wy==null||!wz);if(wz){this['pauseGlobalAudios'](null,!![]);}if(wy){this['playGlobalAudio'](wy,!![]);}var wZ=undefined;var x0=undefined;wq=wT['call'](this,wq);if(wr)wr=wT['call'](this,wr);wV['bind']('loaded',wG,this);setTimeout(function(){this['bind']('click',wD,this,![]);}['bind'](this),0x0);wV['set']('image',wq);wV['set']('customWidth',ws);wV['set']('customHeight',wt);wV['set']('showEffect',wu);wV['set']('hideEffect',wv);wV['set']('visible',!![]);return wV;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(x9,xa,xb,xc,xd,xe,xf,xg){var xh=this['isCardboardViewMode']();if(x9['get']('visible')||!xh&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!xh){var xi=this['zoomImagePopupPanorama'];var xj=x9['get']('showDuration');var xk=x9['get']('hideDuration');var xm=this['pauseCurrentPlayers'](xe==null||!xf);var xn=x9['get']('popupMaxWidth');var xo=x9['get']('popupMaxHeight');var xp=function(){var xt=function(){if(!this['isCardboardViewMode']())x9['set']('visible',![]);};x9['unbind']('showEnd',xp,this);x9['set']('showDuration',0x1);x9['set']('hideDuration',0x1);this['showPopupImage'](xb,xc,x9['get']('popupMaxWidth'),x9['get']('popupMaxHeight'),null,null,xa,xd,xe,xf,xt,xq);};var xq=function(){var xu=function(){x9['unbind']('hideEnd',xu,this);if(xg)xg();};var xv=function(){x9['unbind']('showEnd',xv,this);x9['bind']('hideEnd',xu,this,!![]);x9['set']('visible',![]);x9['set']('showDuration',xj);x9['set']('popupMaxWidth',xn);x9['set']('popupMaxHeight',xo);};this['resumePlayers'](xm,xe==null||!xf);x9['set']('hideDuration',xk);if(!x9['get']('visible')&&xk>0x0){var xw=xi['get']('imageWidth');var xx=xi['get']('imageHeight');x9['bind']('showEnd',xv,this,!![]);x9['set']('showDuration',0x1);x9['set']('popupMaxWidth',xw);x9['set']('popupMaxHeight',xx);x9['set']('visible',!![]);}else{x9['set']('showDuration',xj);if(xg)xg();}this['getMainViewer']()['set']('toolTipEnabled',!![]);};x9['bind']('showEnd',xp,this,!![]);}else{var xr=function(){this['resumePlayers'](xm,xe==null||xf);if(xf){this['resumeGlobalAudios']();}if(xe){this['stopGlobalAudio'](xe);}if(xc){x9['set']('image',xb);x9['unbind']('click',xs,this);}x9['unbind']('hideEnd',xr,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xg)xg();};var xs=function(){x9['set']('image',x9['get']('image')==xb?xc:xb);};var xm=this['pauseCurrentPlayers'](xe==null||!xf);if(xf){this['pauseGlobalAudios'](null,!![]);}if(xe){this['playGlobalAudio'](xe,!![]);}if(xc)x9['bind']('click',xs,this);x9['bind']('hideEnd',xr,this,!![]);}x9['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(xy,xz,xA,xB,xC){var xD=![];var xE=function(){xy['unbind']('showEnd',xE);xI['bind']('click',xG,this);xH();xI['set']('visible',!![]);}['bind'](this);var xF=function(){xD=!![];if(!xy['get']('loop'))xG();}['bind'](this);var xG=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);xy['set']('visible',![]);xI['set']('visible',![]);xI['unbind']('click',xG,this);xy['unbind']('end',xF,this);xy['unbind']('hideEnd',xG,this,!![]);this['resumePlayers'](xK,!![]);if(xA){this['resumeGlobalAudios']();}if(xB)xB();if(xC&&xD)xC();}['bind'](this);var xH=function(){var xL=0xa;var xM=0xa;xI['set']('right',xL);xI['set']('top',xM);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var xI=this['closeButtonPopupPanorama'];if(xz){for(var xJ in xz){xI['set'](xJ,xz[xJ]);}}window['resumeAudiosBlocked']=!![];var xK=this['pauseCurrentPlayers'](!![]);if(xA){this['pauseGlobalAudios']();}xy['bind']('end',xF,this,!![]);xy['bind']('showEnd',xE,this,!![]);xy['bind']('hideEnd',xG,this,!![]);xy['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(xN,xO,xP){if(xN['get']('visible')==!![]){return;}var xQ=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xP){this['resumeGlobalAudios']();}xR();this['resumePlayers'](xU,!xP);xN['unbind']('close',xQ,this);};var xR=function(){xN['unbind']('click',xR,this);if(xS!=undefined){clearTimeout(xS);}};var xS=undefined;if(xO){var xT=function(){xN['hide']();};xN['bind']('click',xR,this);xS=setTimeout(xT,xO);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(xP){this['pauseGlobalAudios'](null,!![]);}var xU=this['pauseCurrentPlayers'](!xP);xN['bind']('close',xQ,this);xN['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xV,xW){var xX=xV['get']('media');var xY=window['currentPanoramasWithCameraChanged']==undefined||!(xX['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xY){return;}var xZ=xX['get']('camera');xW=Object['assign']({},xW);if(!xX['get']('isLoaded')){var y0={};for(var y2 in xW){var y3='initial'+y2['charAt'](0x0)['toUpperCase']()+y2['slice'](0x1);y0[y3]=xZ['get'](y3);xW[y3]=xW[y2];xZ['set'](y3,xW[y3]);delete xW[y2];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var y4=xX['get']('id');window['currentPanoramasWithCameraChanged'][y4]=[xV];var y5=function(){if(y4 in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][y4];}xV['unbind']('begin',y5,this);for(var yd in y0){xZ['set'](yd,y0[yd]);}};xV['bind']('begin',y5,this);}else{for(var y2 in xW){xZ['set'](y2,xW[y2]);}xZ['setStoredPosition'](xW);}var y6=xV['get']('player');var y7=y6['get']('viewerArea');var y8=this['getActivePlayersWithViewer'](y7);var y9=y8['find'](function(ye){return this['getMediaFromPlayer'](ye)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var ya=xX['get']('data');if(y9&&ya['panoramaLocations']){var yb=this['getMediaFromPlayer'](y9);var yc=_getObject(this,ya['panoramaLocations']['find'](yf=>yb==_getObject(this,_getObject(this,yf)['get']('data')['panorama'])));if(yc&&!yc['get']('forceModelLoading')){yc['set']('forceModelLoading',!![]);xV['bind']('begin',function yg(){xV['unbind']('begin',yg,this);yc['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(yh,yi){var yj=this['getByClassName']('PlayList');if(yj['length']==0x0)return;var yk=window['currentPanoramasWithCameraChanged']==undefined||!(yh['get']('id')in window['currentPanoramasWithCameraChanged']);var yl=[];for(var yn=0x0,yo=yj['length'];yn<yo;++yn){var yp=yj[yn];var yq=yp['get']('items');for(var yr=0x0,ys=yq['length'];yr<ys;++yr){var yu=yq[yr];if(yu['get']('media')==yh&&(yu['get']('class')=='PanoramaPlayListItem'||yu['get']('class')=='Video360PlayListItem')){if(yk){yl['push']({'camera':yu['get']('camera'),'item':yu});}yu['set']('camera',yi);}}}if(yl['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var yv=yh['get']('id');window['currentPanoramasWithCameraChanged'][yv]=yl;var yw=function(){if(yv in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][yv];}for(var yy=0x0;yy<yl['length'];yy++){yl[yy]['item']['set']('camera',yl[yy]['camera']);yl[yy]['item']['unbind']('end',yw,this);}};for(var yn=0x0;yn<yl['length'];yn++){var yx=yl[yn];var yu=yx['item'];this['skip3DTransitionOnce'](yu['get']('player'));yu['bind']('end',yw,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(yz,yA){var yB=yz['get']('initialSequence');yB['pause']();var yC=function(){yB['play']();};setTimeout(yC,yA);};TDV['Tour']['Script']['syncPlaylists']=function(yD){var yE=function(yM,yN){for(var yO=0x0,yP=yD['length'];yO<yP;++yO){var yQ=yD[yO];if(yQ!=yN){var yR=yQ['get']('items');for(var yS=0x0,yT=yR['length'];yS<yT;++yS){if(yR[yS]['get']('media')==yM){if(yQ['get']('selectedIndex')!=yS){yQ['set']('selectedIndex',yS);}break;}}}}};var yF=function(yU){var yV=yU['source'];var yW=yV['get']('selectedIndex');if(yW<0x0)return;var yX=yV['get']('items')[yW]['get']('media');yE(yX,yV);};var yG=function(yY){var yZ=yY['source']['get']('panoramaMapLocation');if(yZ){var z0=yZ['get']('map');yE(z0);}};for(var yI=0x0,yK=yD['length'];yI<yK;++yI){yD[yI]['bind']('change',yF,this);}var yL=this['getByClassName']('MapPlayer');for(var yI=0x0,yK=yL['length'];yI<yK;++yI){yL[yI]['bind']('panoramaMapLocation_change',yG,this);}};TDV['Tour']['Script']['translate']=function(z1){return this['get']('data')['localeManager']['trans'](z1);};TDV['Tour']['Script']['triggerOverlay']=function(z2,z3){if(z2['get']('areas')!=undefined){var z4=z2['get']('areas');for(var z5=0x0;z5<z4['length'];++z5){z4[z5]['trigger'](z3);}}else{z2['trigger'](z3);}};TDV['Tour']['Script']['updateDeepLink']=function(z6){z6=z6||{};var z7=this['mainPlayList']['get']('selectedIndex');var z8;var z9=z7>=0x0?this['mainPlayList']['get']('items')[z7]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(z9!=undefined){var zb=z9['get']('data');if(zb&&zb['label']){if(z7>=0x0){var zd=this['mainPlayList']['get']('items')['reduce'](function(zy,zz){var zA=zz['get']('media')['get']('data');return zA&&zb['label']==zA['label']?zy+0x1:zy;},0x0);if(zd!=0x1)z8='#media='+(z7+0x1);}if(!z8)z8='#media-name='+encodeURIComponent(zb['label']);}else if(z7>=0x0){z8='#media='+(z7+0x1);}}if(z9){if(z6['includeCurrentView']===!![]){var ze=this['getActivePlayerWithViewer'](this['getMainViewer']());if(ze){switch(ze['get']('class')){case'PanoramaPlayer':var zf=ze['get']('yaw');var zg=ze['get']('pitch');var zh=ze['get']('hfov');if(!isNaN(zf)&&!isNaN(zg))z8+='&yaw='+zf['toFixed'](0x2)+'&pitch='+zg['toFixed'](0x2);if(!isNaN(zh))z8+='&fov='+zh['toFixed'](0x2);break;case'Model3DPlayer':var zi=ze['get']('model');var zj=zi['get']('camera');var zk=[];zk['push']('yaw='+zj['get']('yaw')['toFixed'](0x2));zk['push']('pitch='+zj['get']('pitch')['toFixed'](0x2));zk['push']('x='+zj['get']('x')['toFixed'](0x5));zk['push']('y='+zj['get']('y')['toFixed'](0x5));zk['push']('z='+zj['get']('z')['toFixed'](0x5));if(zj['get']('class')=='OrbitModel3DCamera')zk['push']('distance='+zj['get']('distance')['toFixed'](0x5));z8+='&'+zk['join']('&');break;}}}if(z6['includeCurrentVisibleHotspots']===!![]){var zl=this['getOverlays'](z9);var zm=[];var zn=[];for(var zo=0x0,zd=zl['length'];zo<zd;++zo){var zp=zl[zo];var zq=zp['get']('enabled');var zb=zp['get']('data');if(zq===undefined||!zb||!zb['label'])continue;var zr=encodeURIComponent(zb['label']);var zs=zb['group'];if(zq!=zb['defaultEnabledValue']){if(zq){zm['push'](zr);}else if(!zs){zn['push'](zr);}}}if(zm['length']>0x0)z8+='&son='+zm['join'](',');if(zn['length']>0x0)z8+='&hon='+zn['join'](',');if(z9['get']('class')=='Model3D'){var zt=z9['get']('variant');if(zt)z8+='&variant='+zt;var zu=z9['get']('objects');var zv=[];var zw=[];zu['forEach'](function(zB){if(zB['get']('class')=='InnerModel3DObject')(zB['get']('enabled')?zv:zw)['push'](zB['get']('objectId'));});if(zv['length']>0x0)z8+='&sobjids='+zv['join'](',');if(zw['length']>0x0)z8+='&hobjids='+zw['join'](',');}}if(z6['includeCurrentMeasureModel3DObjects']===!![]&&z9['get']('class')=='Model3D'){var zx=[];z9['get']('objects')['forEach'](function(zC){if(zC['get']('class')=='MeasureModel3DObject'&&zC['get']('mode')!='create'){var zD=[zC['get']('data')['id'],zC['get']('x'),zC['get']('y'),zC['get']('z')];zC['get']('points')['forEach'](function(zE){zD['push'](zE['get']('x'),zE['get']('y'),zE['get']('z'));});if(zD['length']>0x4){zx['push'](zD['join'](','));}}});if(zx['length']>0x0)z8+='&measures='+zx['join']('+');}}if(z8&&z6['setHash']===!![]){location['hash']=z8;}return z8;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(zF,zG,zH){var zI=function(){var zK=zF['get']('selectedIndex');if(zK>=0x0){var zL=function(){zO['unbind']('begin',zL);zM(zK);};var zM=function(zP){var zQ=zO['get']('media');var zR=zQ['get']('data');var zS=zR!==undefined?zR['description']:undefined;zN(zS);};var zN=function(zT){if(zT!==undefined){zG['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+zT+'</SPAN></div>');}else{zG['set']('html','');}var zU=zG['get']('html');zG['set']('visible',zU!==undefined&&zU);};var zO=zF['get']('items')[zK];if(zG['get']('html')){zN('Loading...');zO['bind']('begin',zL);}else{zM(zK);}}};var zJ=function(){zG['set']('html',undefined);zF['unbind']('change',zI,this);zH['unbind']('stop',zJ,this);};if(zH){zH['bind']('stop',zJ,this);}zF['bind']('change',zI,this);zI();};TDV['Tour']['Script']['updateVideoCues']=function(zV,zW){var zX=zV['get']('items')[zW];var zY=zX['get']('media');if(zY['get']('cues')['length']==0x0)return;var zZ=zX['get']('player');var A0=[];var A1=function(){if(zV['get']('selectedIndex')!=zW){zY['unbind']('cueChange',A2,this);zV['unbind']('change',A1,this);}};var A2=function(A3){var A4=A3['data']['activeCues'];for(var A5=0x0,A6=A0['length'];A5<A6;++A5){var A7=A0[A5];if(A4['indexOf'](A7)==-0x1&&(A7['get']('startTime')>zZ['get']('currentTime')||A7['get']('endTime')<zZ['get']('currentTime')+0.5)){A7['trigger']('end');}}A0=A4;};zY['bind']('cueChange',A2,this);zV['bind']('change',A1,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(A8,A9){var Aa=this['get'](A9);for(var Ab in A8){A8[Ab]['set']('visible',Aa);}};TDV['Tour']['Script']['quizStart']=function(){var Ac=this['get']('data')['quiz'];return Ac?Ac['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var Ad=this['get']('data')['quiz'];return Ad?Ad['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var Ae=this['get']('data')['quiz'];return Ae?Ae['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var Af=this['get']('data')['quiz'];return Af?Af['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(Ag){var Ah=this['get']('data')['quiz'];if(Ah)Ah['setItemFound'](Ag);};TDV['Tour']['Script']['quizShowQuestion']=function(Ai){var Aj=this['get']('data');var Ak=Aj['quiz'];var Al;if(Ak){var Am=this['pauseCurrentPlayers'](!![]);var An=this[Ai];var Ao;var Ap=this['get']('data')['tour']['isIPad']();if(!An['media']){Ao=this['get']('isMobile')&&!Ap?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&!Ap&&this['get']('orientation')=='landscape'){Ao={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}else if(Ap&&this['get']('orientation')=='portrait'){Ao={'theme':{'window':{'width':'90%'}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var Aq=this['get']('data')['tour']['getNotchValue']();if(Aq>0x0){Ao=this['mixObject'](Ao||{},{'theme':{'window':{'width':undefined,'left':Aq,'right':Aq}}});}}var Ar=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!An['title'];if(Ar)this['textToSpeech'](An['title'],Ai);Al=Ak['showQuestion'](Ai,Ao);Al['then'](function(As){if(Ar)this['stopTextToSpeech']();this['resumePlayers'](Am,!![]);}['bind'](this));}return Al;};TDV['Tour']['Script']['quizShowScore']=function(At){var Au=this['get']('data');var Av=Au['quiz'];if(Av){if(this['get']('isMobile')){At=At||{};At=this['mixObject'](At,Au[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return Av['showScore'](At);}};TDV['Tour']['Script']['quizShowTimeout']=function(Aw,Ax){var Ay=this['get']('data');var Az=Ay['quiz'];if(Az){if(this['get']('isMobile')){Ax=Ax||{};Ax=this['mixObject'](Ax,Ay[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}Az['showTimeout'](Aw,Ax);}};TDV['Tour']['Script']['stopTextToSpeech']=function(AA){if(window['speechSynthesis']&&(AA==undefined||this['t2sLastID']==AA)){var AB=window['speechSynthesis'];if(AB['speaking']){AB['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(AC){return this['t2sLastID']==AC?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(AD,AE,AF){if(this['get']('mute')){return;}var AG=this['get']('data');var AH=AG['disableTTS']||![];if(AH)return;if(AE!=undefined&&this['t2sLastID']!=AE||AE==undefined){AF=AF||0x0;if(this['t2sLastID']&&AF>this['t2sLastPriority']){return;}var AI=AG['tour'];var AJ=AG['textToSpeechConfig'];var AK=AG['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var AL=window['speechSynthesis'];if(AL['speaking']){AL['cancel']();}var AM=new SpeechSynthesisUtterance(AD);if(AK)AM['lang']=AK;var AN;if(AJ){AM['volume']=AJ['volume'];AM['pitch']=AJ['pitch'];AM['rate']=AJ['rate'];if(AJ['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AM['onend']=function(){this['t2sLastID']=null;if(AN)clearInterval(AN);if(AJ['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);AM['onerror']=function(AP){console['error']('Text\x20to\x20speech\x20error:\x20',AP['error']);}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){AN=setInterval(function(){AL['pause']();AL['resume']();},0xbb8);}AL['speak'](AM);this['t2sLastPriority']=AF;this['t2sLastID']=AE;}else if(AI['isMobileApp']()){if(!AI['isIOS']()){var AO=function(AQ,AR){var AS={'command':'tts','type':AQ};if(AR)AS=this['mixObject'](AS,AR);android['sendJSON'](JSON['stringify'](AS));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(AJ['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);AO('stop');if(AJ){AO('init',{'volume':AJ['volume'],'pitch':AJ['pitch'],'rate':AJ['rate'],'language':AK});if(AJ['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AO('play',{'text':AD,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(AT){var AU=AT['get']('class');var AV;if(AU=='HTMLText'){var AW=AT['get']('html');if(AW){AV=this['htmlToPlainText'](AW,{'linkProcess':function(AX,AY){return AY;}});}}else if(AU=='Button'){AV=AT['get']('label');}else if(AU=='Label'){AV=AT['get']('text');}if(AV){this['textToSpeech'](AV,AT['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(AZ){var B0=AZ['get']('id');if(this['getStateTextToSpeech'](B0)!='playing')this['textToSpeechComponent'](AZ);else this['stopTextToSpeech'](B0);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function B1(B3){var B4=B3['source'];this['textToSpeech'](B4['get']('toolTip'),B4['get']('id'),0x1);}function B2(B5){var B6=B5['source'];this['stopTextToSpeech'](B6['get']('id'));}setTimeout(function(){var B7=this['getByClassName']('UIComponent');for(var B8=0x0,B9=B7['length'];B8<B9;++B8){var Ba=B7[B8];var Bb=Ba['get']('toolTip');if(!!Bb||Ba['get']('class')=='ViewerArea'){Ba['bind']('toolTipShow',B1,this);Ba['bind']('toolTipHide',B2,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(Bc){var Bd=this['getActivePlayerWithViewer'](Bc);if(Bd&&(Bd['get']('class')=='PanoramaPlayer'||Bd['get']('class')=='Model3DPlayer'))Bd['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Be,Bf){var Bg=function(Bu,Bv){var Bw='';for(var Bx=0x0;Bx<Bv;Bx+=0x1){Bw+=Bu;}return Bw;};var Bh=null;var Bi=null;var Bj='underline';var Bk='indention';var Bl='-';var Bm=0x3;var Bn='-';var Bo=![];if(!!Bf){if(typeof Bf['linkProcess']==='function'){Bh=Bf['linkProcess'];}if(typeof Bf['imgProcess']==='function'){Bi=Bf['imgProcess'];}if(!!Bf['headingStyle']){Bj=Bf['headingStyle'];}if(!!Bf['listStyle']){Bk=Bf['listStyle'];}if(!!Bf['uIndentionChar']){Bl=Bf['uIndentionChar'];}if(!!Bf['listIndentionTabs']){Bm=Bf['listIndentionTabs'];}if(!!Bf['oIndentionChar']){Bn=Bf['oIndentionChar'];}if(!!Bf['keepNbsps']){Bo=Bf['keepNbsps'];}}var Bp=Bg(Bl,Bm);var Bq=String(Be)['replace'](/\n|\r/g,'\x20');const Br=Bq['match'](/<\/body>/i);if(Br){Bq=Bq['substring'](0x0,Br['index']);}const Bs=Bq['match'](/<body[^>]*>/i);if(Bs){Bq=Bq['substring'](Bs['index']+Bs[0x0]['length'],Bq['length']);}Bq=Bq['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Bq=Bq['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Bq=Bq['replace'](/<img([^>]*)>/gi,function(By,Bz){var BA='';var BB='';var BC=/src="([^"]*)"/i['exec'](Bz);var BD=/alt="([^"]*)"/i['exec'](Bz);if(BC!==null){BA=BC[0x1];}if(BD!==null){BB=BD[0x1];}if(typeof Bi==='function'){return Bi(BA,BB);}if(BB===''){return'![image]\x20('+BA+')';}return'!['+BB+']\x20('+BA+')';});function Bt(){return function(BE,BF,BG,BH){var BI=0x0;if(BG&&/start="([0-9]+)"/i['test'](BG)){BI=/start="([0-9]+)"/i['exec'](BG)[0x1]-0x1;}var BJ='<p>'+BH['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(BK,BL){var BM=0x0;var BN=BL['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(BF==='o'&&BM===0x0){BI+=0x1;BM+=0x1;return'<br\x20/>'+BI+Bg(Bn,Bm-String(BI)['length']);}return'<br\x20/>'+Bp;});return BN;})+'</p>';return BJ;};}if(Bk==='linebreak'){Bq=Bq['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Bk==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Bq)){Bq=Bq['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,Bt());}}if(Bj==='linebreak'){Bq=Bq['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Bj==='underline'){Bq=Bq['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(BO,BP){return'\x0a&nbsp;\x0a'+BP+'\x0a'+Bg('=',BP['length'])+'\x0a&nbsp;\x0a';});Bq=Bq['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(BQ,BR){return'\x0a&nbsp;\x0a'+BR+'\x0a'+Bg('-',BR['length'])+'\x0a&nbsp;\x0a';});Bq=Bq['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(BS,BT,BU){return'\x0a&nbsp;\x0a'+BU+'\x0a&nbsp;\x0a';});}else if(Bj==='hashify'){Bq=Bq['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(BV,BW,BX){return'\x0a&nbsp;\x0a'+Bg('#',BW)+'\x20'+BX+'\x0a&nbsp;\x0a';});}Bq=Bq['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Bq=Bq['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(BY,BZ,C0){if(typeof Bh==='function'){return Bh(BZ,C0);}return'\x20['+C0+']\x20('+BZ+')\x20';});Bq=Bq['replace'](/\n[ \t\f]*/gi,'\x0a');Bq=Bq['replace'](/\n\n+/gi,'\x0a');if(Bo){Bq=Bq['replace'](/( |\t)+/gi,'\x20');Bq=Bq['replace'](/&nbsp;/gi,'\x20');}else{Bq=Bq['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Bq=Bq['replace'](/\n +/gi,'\x0a');Bq=Bq['replace'](/^ +/gi,'');while(Bq['indexOf']('\x0a')===0x0){Bq=Bq['substring'](0x1);}if(Bq['length']===0x0||Bq['lastIndexOf']('\x0a')!==Bq['length']-0x1){Bq+='\x0a';}return Bq;};TDV['Tour']['Script']['openEmbeddedPDF']=function(C1,C2){var C3=!!window['MSInputMethodContext']&&!!document['documentMode'];if(C3){this['openLink'](C2,'_blank');return;}var C4=C1['get']('class');var C5=!new RegExp('^(?:[a-z]+:)?//','i')['test'](C2);if(C5&&C4=='WebFrame'){var C6=location['origin']+location['pathname'];C1['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(C6['substring'](0x0,C6['lastIndexOf']('/'))+'/'+C2)+'#0');}else{var C7=location['origin']==new URL(C2)['origin'];var C8='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var C9=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var Ca='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+C2+'\x22,\x20\x22#content\x22,\x20{'+(C7?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+C8+'\x22,'+'\x22forcePDFJS\x22:\x20'+C9+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+C7+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(C4=='WebFrame'){C1['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+Ca+'</body>'+'</html>'));}else if(C4=='HTML'){C1['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(Ca));}}};TDV['Tour']['Script']['enableVR']=function(){var Cb=this['getMainViewer']();var Cc=this['getActivePlayerWithViewer'](Cb);if(Cc['get']('class')=='Model3DPlayer'&&!this['get']('vrControllerAvailable')){return;}Cb['set']('viewMode','vr');};TDV['Tour']['Script']['disableVR']=function(){var Cd=this['getMainViewer']();Cd['set']('viewMode','standard');};TDV['Tour']['Script']['toggleVR']=function(){var Ce=this['getMainViewer']();if(Ce['get']('viewMode')=='standard')this['enableVR']();else this['disableVR']();};TDV['Tour']['Script']['getKey']=function(Cf){return window[Cf];};TDV['Tour']['Script']['registerKey']=function(Cg,Ch){window[Cg]=Ch;};TDV['Tour']['Script']['unregisterKey']=function(Ci){delete window[Ci];};TDV['Tour']['Script']['existsKey']=function(Cj){return Cj in window;};function _getCurrentActiveModels(){var Ck=this['getByClassName']('Model3DPlayer');var Cl=[];for(var Cm of Ck){var Cn=Cm['get']('model');var Co=Cm['get']('viewerArea');if(Cn&&Cn['get']('isLoaded')&&Co&&Co['get']('visible'))Cl['push'](Cn);}return Cl;}function _onMeasureClick(Cp){var Cq=Cp['source'];var Cr=Cq['get']('mode');if(Cr!='create'){Cq['set']('mode',Cr=='view'?'edit':'view');console['log'](Cq['get']('mode'));}}function _forEachMeasureModel3DObject(Cs,Ct){if(!Cs)Cs=_getCurrentActiveModels['call'](this);Cs['forEach'](function(Cu){Cu['get']('objects')['forEach'](function(Cv){if(Cv['get']('class')=='MeasureModel3DObject')Ct(Cu,Cv);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(Cw,Cx){if(!Cw)Cw=_getCurrentActiveModels['call'](this);Cw['forEach'](function(Cy){var Cz=Cy['get']('objects');var CA=Cz['filter'](function(CB){return!Cx['call'](this,CB);});if(CA['length']!=Cz['length']){Cy['set']('objects',CA);Cz['forEach'](function(CC){if(Cx['call'](this,CC))this['disposeInstance'](CC);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(CD){var CE=this['clone'](CD,CD['getAttributeNames']()['filter'](function(CF){return CF!='id';}));CE['set']('data',{'id':CD['get']('id')});return CE;}TDV['Tour']['Script']['startMeasurement']=function(CG,CH){if(!CG)CG=_getCurrentActiveModels['call'](this);var CI={},CJ={},CK={};CG['forEach'](function(CM){var CN=CM['get']('objects');var CO=CN['findIndex'](function(CT){return CT['get']('class')=='MeasureModel3DObject'&&CT['get']('mode')=='create';});var CP=CO!=-0x1;if(CP){var CQ=CN[CO];if(CQ['get']('points')['length']==0x0){CN['splice'](CO,0x1);this['disposeInstance'](CQ);}else CQ['set']('mode','view');}CN['forEach'](function(CU){if(CU['get']('class')=='MeasureModel3DObject'&&CU['get']('mode')=='edit')CU['set']('mode','view');}['bind'](this));var CR=_cloneMeasureModel3DObject['call'](this,CH);this['cloneBindings'](CH,CR,'modeChange');CR['set']('mode','create');CR['bind']('click',_onMeasureClick,this);var CS=CM['get']('camera');CR['bind']('modeChange',function CV(){if(CR['get']('mode')=='create'){CI[CM['get']('id')]=CM['get']('surfaceSelectionEnabled');CM['set']('surfaceSelectionEnabled',!![]);if(CS['get']('class')=='FlyOverModel3DCamera'){CJ[CM['get']('id')]=CS['get']('doubleClickAction');CS['set']('doubleClickAction','none');}}else{CR['unbind']('modeChange',CV,this);CM['set']('surfaceSelectionEnabled',CI[CM['get']('id')]);if(CS['get']('class')=='FlyOverModel3DCamera'){CS['set']('doubleClickAction',CJ[CM['get']('id')]);}CN['forEach'](function(CW){var CX=CK[CW['get']('id')];if(CX){CW['set']('rollOverEnabled',CX['rollOverEnabled']);}});}},this);if(CG['length']>0x0){CR['bind']('distanceChange',function CY(){CR['unbind']('distanceChange',CY,this);CL['call'](this,CG['filter'](CZ=>CZ!=CM));},this);}CN['forEach'](function(D0){var D1=D0['get']('id');if(D1){CK[D1]={'rollOverEnabled':D0['get']('rollOverEnabled')};D0['set']('rollOverEnabled',!![]);}});CN=CN['concat']();CN['push'](CR);CM['set']('objects',CN);}['bind'](this));function CL(D2){this['stopMeasurement'](D2);for(var D3 of D2){var D4=D3['get']('id');D3['set']('surfaceSelectionEnabled',CI[D4]);if(D4 in CJ)D3['get']('camera')['set']('doubleClickAction',CJ[D4]);}}};TDV['Tour']['Script']['stopMeasurement']=function(D5){_deleteModel3DObjects['call'](this,D5,function(D6){return D6['get']('class')=='MeasureModel3DObject'&&D6['get']('mode')=='create'&&D6['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,D5,function(D7,D8){if(D8['get']('mode')=='create'){D8['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(D9,Da){if(!D9)D9=_getCurrentActiveModels['call'](this);var Db=D9['some'](function(Dc){var Dd=Dc['get']('objects');var De=Dd['find'](function(Df){return Df['get']('class')=='MeasureModel3DObject'&&Df['get']('mode')=='create';});return De!=null;});if(!Db)this['startMeasurement'](D9,Da);else this['stopMeasurement'](D9);};TDV['Tour']['Script']['cleanAllMeasurements']=function(Dg){_deleteModel3DObjects['call'](this,Dg,function(Dh){return Dh['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(Di){_deleteModel3DObjects['call'](this,Di,function(Dj){return Dj['get']('class')=='MeasureModel3DObject'&&Dj['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(Dk,Dl){_forEachMeasureModel3DObject['call'](this,Dk,function(Dm,Dn){Dn['set']('enabled',Dl);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Do){_forEachMeasureModel3DObject['call'](this,Do,function(Dp,Dq){Dq['set']('enabled',!Dq['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Dr){_forEachMeasureModel3DObject['call'](this,null,function(Ds,Dt){Dt['set']('units',Dr);});};
//# sourceMappingURL=script_v2024.0.19.js.map
//Generated with v2024.0.19, Tue Dec 3 2024

var tour;
var devicesUrl = {"general":"script_general.js?v=1733208790719"};

(function()
{
    var deviceType = ['general'];
    if(TDV.PlayerAPI.mobile)
        deviceType.unshift('mobile');
    if(TDV.PlayerAPI.device == TDV.PlayerAPI.DEVICE_IPAD)
        deviceType.unshift('ipad');
    var url;
    for(var i=0; i<deviceType.length; ++i) {
        var d = deviceType[i];
        if(d in devicesUrl) {
            url = devicesUrl[d];
            break;
        }
    }
    if(typeof url == "object") {
        var orient = TDV.PlayerAPI.getOrientation();
        if(orient in url) {
            url = url[orient];
        }
    }
    var link = document.createElement('link');
    link.rel = 'preload';
    link.href = url;
    link.as = 'script';
    var el = document.getElementsByTagName('script')[0];
    el.parentNode.insertBefore(link, el);
})();

function loadTour()
{
    if(tour) return;

    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent)) {
        var preloadContainer = document.getElementById('preloadContainer');
        if(preloadContainer)
            document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
    }

    var settings = new TDV.PlayerSettings();
    settings.set(TDV.PlayerSettings.CONTAINER, document.getElementById('viewer'));
    settings.set(TDV.PlayerSettings.WEBVR_POLYFILL_URL, 'lib/WebVRPolyfill.js?v=1733208790719');
    settings.set(TDV.PlayerSettings.HLS_URL, 'lib/Hls.js?v=1733208790719');
    settings.set(TDV.PlayerSettings.QUERY_STRING_PARAMETERS, 'v=1733208790719');

    tour = new TDV.Tour(settings, devicesUrl);
    tour.bind(TDV.Tour.EVENT_TOUR_INITIALIZED, onVirtualTourInit);
    tour.bind(TDV.Tour.EVENT_TOUR_LOADED, onVirtualTourLoaded);
    tour.bind(TDV.Tour.EVENT_TOUR_ENDED, onVirtualTourEnded);
    tour.load();
}

function pauseTour()
{
    if(!tour)
        return;

    tour.pause();
}

function resumeTour()
{
    if(!tour)
        return;

    tour.resume();
}

function onVirtualTourInit()
{
    var updateTexts = function() {
        document.title = this.trans("tour.name")
    };

    tour.locManager.bind(TDV.Tour.LocaleManager.EVENT_LOCALE_CHANGED, updateTexts.bind(tour.locManager));
    
    if (tour.player.cookiesEnabled)
        enableCookies();
    else
        tour.player.bind('enableCookies', enableCookies);
}

function onVirtualTourLoaded()
{
    disposePreloader();
}

function onVirtualTourEnded()
{

}

function enableCookies()
{
    
}

function setMediaByIndex(index) {
    if(!tour)
        return;

    tour.setMediaByIndex(index);
}

function setMediaByName(name)
{
    if(!tour)
        return;

    tour.setMediaByName(name);
}

function showPreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer != undefined)
        preloadContainer.style.opacity = 1;
}

function disposePreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer == undefined)
        return;

    var transitionEndName = transitionEndEventName();
    if(transitionEndName)
    {
        preloadContainer.addEventListener(transitionEndName, hide, false);
        preloadContainer.style.opacity = 0;
        setTimeout(hide, 500); //Force hide. Some cases the transitionend event isn't dispatched with an iFrame.
    }
    else
    {
        hide();
    }

    function hide()
    {
        
        document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
        preloadContainer.style.visibility = 'hidden';
        preloadContainer.style.display = 'none';
        var videoList = preloadContainer.getElementsByTagName("video");
        for(var i=0; i<videoList.length; ++i)
        {
            var video = videoList[i];
            video.pause();
            while (video.children.length)
                video.removeChild(video.children[0]);
        }
    }

    function transitionEndEventName () {
        var el = document.createElement('div');
        var transitions = {
            'transition':'transitionend',
            'OTransition':'otransitionend',
            'MozTransition':'transitionend',
            'WebkitTransition':'webkitTransitionEnd'
        };

        var t;
        for (t in transitions) {
            if (el.style[t] !== undefined) {
                return transitions[t];
            }
        }

        return undefined;
    }
}

function onBodyClick(){
    document.body.removeEventListener("click", onBodyClick);
    document.body.removeEventListener("touchend", onBodyClick);
    
}

function onLoad() {
    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent))
    {
        var onOrientationChange = function()
        {
            document.documentElement.style.height = 'initial';
            document.body.style.height = 'initial';
            Array.from(document.querySelectorAll('.fill-viewport')).forEach(function(element)
            {
                element.classList.toggle('landscape-right', window.orientation == -90);
                element.classList.toggle('landscape-left', window.orientation == 90);
            });
            setTimeout(function()
            {
                document.documentElement.style.height = '100%';
                document.body.style.height = undefined;
            }, 500);
        };
        window.addEventListener('orientationchange', onOrientationChange);
        onOrientationChange();
    }

    var params = getParams(location.search.substr(1));
    if(params.hasOwnProperty("skip-loading"))
    {
        loadTour();
        disposePreloader();
        return;
    }

    if (isOVRWeb()){
        showPreloader();
        loadTour();
        return;
    }

    showPreloader();
			loadTour();
}



function playVideo(video, autoplayMuted, clickComponent) {
    function hasAudio (video) {
        return video.mozHasAudio ||
               Boolean(video.webkitAudioDecodedByteCount) ||
               Boolean(video.audioTracks && video.audioTracks.length);
    }

    function detectUserAction() {
        var component = clickComponent || document.getElementById('preloadContainer');
        var onVideoClick = function(e) {
            if(video.paused) {
                video.play();
            }
            video.muted = false;
            if(hasAudio(video))
            {
                e.stopPropagation();
                e.stopImmediatePropagation();
                e.preventDefault();
            }

            component.removeEventListener('click', onVideoClick);
            component.removeEventListener('touchend', onVideoClick);

            if(component == clickComponent) {
                setComponentVisibility(false);
            }
        };
        component.addEventListener("click", onVideoClick);
        component.addEventListener("touchend", onVideoClick);
    }

    function setComponentVisibility(visible) {
        clickComponent.style.visibility = visible ? 'visible' : 'hidden';
    }

    var canPlay = true;
    var promise = video.play();
    if (promise) {
        promise.catch(function() {
            if(clickComponent)
                setComponentVisibility(true);
            canPlay = false;
            if(autoplayMuted) {
                video.muted = true;
                video.play();
            }
            detectUserAction();
        });
    } else {
        canPlay = false;
    }

    if (!canPlay || video.muted) {
        detectUserAction();
    } else if(clickComponent) {
        setComponentVisibility(false);
    }
}

function isOVRWeb(){
    return window.location.hash.substring(1).split('&').indexOf('ovrweb') > -1;
}

function getParams(params) {
    var queryDict = {}; params.split("&").forEach(function(item) {var k = item.split("=")[0], v = decodeURIComponent(item.split("=")[1]);queryDict[k.toLowerCase()] = v});
    return queryDict;
}

document.addEventListener('DOMContentLoaded', onLoad);